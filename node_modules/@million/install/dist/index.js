#!/usr/bin/env node
"use strict";var e=require("path"),t=require("process"),n=require("@clack/prompts"),r=require("crypto"),i=require("effect"),s=require("tty"),o=require("fs/promises"),a=require("fs"),l=require("child_process"),c=require("util"),u=require("diff"),d=require("@antfu/ni"),p=require("os"),f=require("@babel/parser"),h=require("recast"),g=require("ast-types"),m=require("@axiomhq/js");function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var b,v,E=_(e),S=y(t),x=_(n),w=_(o),A=_(a),k=y(c),R=_(u),P=y(p),C=_(h),O=Object.create,T=Object.defineProperty,$=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,j=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,F=(e=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e)((function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')})),N=(e,t)=>function(){return t||(0,e[L(e)[0]])((t={exports:{}}).exports,t),t.exports},I=(e,t,n)=>(n=null!=e?O(j(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of L(t))M.call(e,i)||i===n||T(e,i,{get:()=>t[i],enumerable:!(r=$(t,i))||r.enumerable});return e})(e&&e.__esModule?n:T(n,"default",{value:e,enumerable:!0}),e)),H=N({"../../node_modules/.pnpm/ignore@5.3.2/node_modules/ignore/index.js"(e,t){function n(e){return Array.isArray(e)?e:[e]}var r=/^\s+$/,i=/(?:[^\\]|^)\\$/,s=/^\\!/,o=/^\\#/,a=/\r?\n/g,l=/^\.*\/|^\.+$/,c="node-ignore";"undefined"!=typeof Symbol&&(c=Symbol.for("node-ignore"));var u=c,d=/([0-z])-([0-z])/g,p=()=>!1,f=[[/^\uFEFF/,()=>""],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,n)=>t+(0===n.indexOf("\\")?" ":"")],[/(\\+?)\s/g,(e,t)=>{const{length:n}=t;return t.slice(0,n-n%2)+" "}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,n)=>t+6<n.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,n)=>t+n.replace(/\\\*/g,"[^\\/]*")],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,n,r,i)=>"\\"===t?`\\[${n}${(e=>{const{length:t}=e;return e.slice(0,t-t%2)})(r)}${i}`:"]"===i&&r.length%2==0?`[${(e=>e.replace(d,((e,t,n)=>t.charCodeAt(0)<=n.charCodeAt(0)?e:"")))(n)}${r}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],h=Object.create(null),g=e=>"string"==typeof e,m=class{constructor(e,t,n,r){this.origin=e,this.pattern=t,this.negative=n,this.regex=r}},y=(e,t)=>{const n=e;let r=!1;0===e.indexOf("!")&&(r=!0,e=e.substr(1));const i=((e,t)=>{let n=h[e];return n||(n=f.reduce(((t,[n,r])=>t.replace(n,r.bind(e))),e),h[e]=n),t?new RegExp(n,"i"):new RegExp(n)})(e=e.replace(s,"!").replace(o,"#"),t);return new m(n,e,r,i)},_=(e,t)=>{throw new t(e)},b=(e,t,n)=>{if(!g(e))return n(`path must be a string, but got \`${t}\``,TypeError);if(!e)return n("path must not be empty",TypeError);if(b.isNotRelative(e)){return n(`path should be a ${"`path.relative()`d"} string, but got "${t}"`,RangeError)}return!0},v=e=>l.test(e);b.isNotRelative=v,b.convert=e=>e;var E=class{constructor({ignorecase:e=!0,ignoreCase:t=e,allowRelativePaths:n=!1}={}){var r,i,s;r=this,i=u,s=!0,Object.defineProperty(r,i,{value:s}),this._rules=[],this._ignoreCase=t,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[u])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if((e=>e&&g(e)&&!r.test(e)&&!i.test(e)&&0!==e.indexOf("#"))(e)){const t=y(e,this._ignoreCase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,n(g(e)?(e=>e.split(a))(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let n=!1,r=!1;return this._rules.forEach((i=>{const{negative:s}=i;if(r===s&&n!==r||s&&!n&&!r&&!t)return;i.regex.test(e)&&(n=!s,r=s)})),{ignored:n,unignored:r}}_test(e,t,n,r){const i=e&&b.convert(e);return b(i,e,this._allowRelativePaths?p:_),this._t(i,t,n,r)}_t(e,t,n,r){if(e in t)return t[e];if(r||(r=e.split("/")),r.pop(),!r.length)return t[e]=this._testOne(e,n);const i=this._t(r.join("/")+"/",t,n,r);return t[e]=i.ignored?i:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return n(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},S=e=>new E(e);if(S.isPathValid=e=>b(e&&b.convert(e),e,p),S.default=S,t.exports=S,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const e=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");b.convert=e;const t=/^[a-z]:\//i;b.isNotRelative=e=>t.test(e)||v(e)}}}),D=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/array.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.splitWhen=e.flatten=void 0,e.flatten=function(e){return e.reduce(((e,t)=>[].concat(e,t)),[])},e.splitWhen=function(e,t){const n=[[]];let r=0;for(const i of e)t(i)?(r++,n[r]=[]):n[r].push(i);return n}}}),B=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/errno.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEnoentCodeError=void 0,e.isEnoentCodeError=function(e){return"ENOENT"===e.code}}}),U=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/fs.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;var t=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};e.createDirentFromStats=function(e,n){return new t(e,n)}}}),G=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/path.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertPosixPathToPattern=e.convertWindowsPathToPattern=e.convertPathToPattern=e.escapePosixPath=e.escapeWindowsPath=e.escape=e.removeLeadingDotSegment=e.makeAbsolute=e.unixify=void 0;var t=F("os"),n=F("path"),r="win32"===t.platform(),i=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,s=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,o=/^\\\\([.?])/,a=/\\(?![!()+@[\]{}])/g;function l(e){return e.replace(s,"\\$2")}function c(e){return e.replace(i,"\\$2")}function u(e){return l(e).replace(o,"//$1").replace(a,"/")}function d(e){return c(e)}e.unixify=function(e){return e.replace(/\\/g,"/")},e.makeAbsolute=function(e,t){return n.resolve(e,t)},e.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){const t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e},e.escape=r?l:c,e.escapeWindowsPath=l,e.escapePosixPath=c,e.convertPathToPattern=r?u:d,e.convertWindowsPathToPattern=u,e.convertPosixPathToPattern=d}}),q=N({"../../node_modules/.pnpm/is-extglob@2.1.1/node_modules/is-extglob/index.js"(e,t){t.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}}}),W=N({"../../node_modules/.pnpm/is-glob@4.0.3/node_modules/is-glob/index.js"(e,t){var n=q(),r={"{":"}","(":")","[":"]"},i=function(e){if("!"===e[0])return!0;for(var t=0,n=-2,i=-2,s=-2,o=-2,a=-2;t<e.length;){if("*"===e[t])return!0;if("?"===e[t+1]&&/[\].+)]/.test(e[t]))return!0;if(-1!==i&&"["===e[t]&&"]"!==e[t+1]&&(i<t&&(i=e.indexOf("]",t)),i>t)){if(-1===a||a>i)return!0;if(-1===(a=e.indexOf("\\",t))||a>i)return!0}if(-1!==s&&"{"===e[t]&&"}"!==e[t+1]&&(s=e.indexOf("}",t))>t&&(-1===(a=e.indexOf("\\",t))||a>s))return!0;if(-1!==o&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(o=e.indexOf(")",t))>t&&(-1===(a=e.indexOf("\\",t))||a>o))return!0;if(-1!==n&&"("===e[t]&&"|"!==e[t+1]&&(n<t&&(n=e.indexOf("|",t)),-1!==n&&")"!==e[n+1]&&(o=e.indexOf(")",n))>n&&(-1===(a=e.indexOf("\\",n))||a>o)))return!0;if("\\"===e[t]){var l=e[t+1];t+=2;var c=r[l];if(c){var u=e.indexOf(c,t);-1!==u&&(t=u+1)}if("!"===e[t])return!0}else t++}return!1},s=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var n=e[t+1];t+=2;var i=r[n];if(i){var s=e.indexOf(i,t);-1!==s&&(t=s+1)}if("!"===e[t])return!0}else t++}return!1};t.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(n(e))return!0;var r=i;return t&&!1===t.strict&&(r=s),r(e)}}}),z=N({"../../node_modules/.pnpm/glob-parent@5.1.2/node_modules/glob-parent/index.js"(e,t){var n=W(),r=F("path").posix.dirname,i="win32"===F("os").platform(),s=/\\/g,o=/[\{\[].*[\}\]]$/,a=/(^|[^\\])([\{\[]|\([^\)]+$)/,l=/\\([\!\*\?\|\[\]\(\)\{\}])/g;t.exports=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&i&&e.indexOf("/")<0&&(e=e.replace(s,"/")),o.test(e)&&(e+="/"),e+="a";do{e=r(e)}while(n(e)||a.test(e));return e.replace(l,"$1")}}}),V=N({"../../node_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/utils.js"(e){e.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),e.find=(e,t)=>e.nodes.find((e=>e.type===t)),e.exceedsLimit=(t,n,r=1,i)=>!1!==i&&(!(!e.isInteger(t)||!e.isInteger(n))&&(Number(n)-Number(t))/Number(r)>=i),e.escapeNode=(e,t=0,n)=>{const r=e.nodes[t];r&&(n&&r.type===n||"open"===r.type||"close"===r.type)&&!0!==r.escaped&&(r.value="\\"+r.value,r.escaped=!0)},e.encloseBrace=e=>"brace"===e.type&&(!(e.commas>>0+e.ranges)&&(e.invalid=!0,!0)),e.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges?(!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0):(e.invalid=!0,!0))),e.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),e.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),e.flatten=(...e)=>{const t=[],n=e=>{for(let r=0;r<e.length;r++){const i=e[r];Array.isArray(i)?n(i):void 0!==i&&t.push(i)}return t};return n(e),t}}}),K=N({"../../node_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/stringify.js"(e,t){var n=V();t.exports=(e,t={})=>{const r=(e,i={})=>{const s=t.escapeInvalid&&n.isInvalidBrace(i),o=!0===e.invalid&&!0===t.escapeInvalid;let a="";if(e.value)return(s||o)&&n.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(const t of e.nodes)a+=r(t);return a};return r(e)}}}),Q=N({"../../node_modules/.pnpm/is-number@7.0.0/node_modules/is-number/index.js"(e,t){t.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}}}),Y=N({"../../node_modules/.pnpm/to-regex-range@5.0.1/node_modules/to-regex-range/index.js"(e,t){var n=Q(),r=(e,t,i)=>{if(!1===n(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===n(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let a={relaxZeros:!0,...i};"boolean"==typeof a.strictZeros&&(a.relaxZeros=!1===a.strictZeros);let l=e+":"+t+"="+String(a.relaxZeros)+String(a.shorthand)+String(a.capture)+String(a.wrap);if(r.cache.hasOwnProperty(l))return r.cache[l].result;let c=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(c-u)){let n=e+"|"+t;return a.capture?`(${n})`:!1===a.wrap?n:`(?:${n})`}let d=f(e)||f(t),p={min:e,max:t,a:c,b:u},h=[],g=[];if(d&&(p.isPadded=d,p.maxLen=String(p.max).length),c<0){g=s(u<0?Math.abs(u):1,Math.abs(c),p,a),c=p.a=0}return u>=0&&(h=s(c,u,p,a)),p.negatives=g,p.positives=h,p.result=function(e,t,n){let r=o(e,t,"-",!1)||[],i=o(t,e,"",!1)||[],s=o(e,t,"-?",!0)||[];return r.concat(s).concat(i).join("|")}(g,h),!0===a.capture?p.result=`(${p.result})`:!1!==a.wrap&&h.length+g.length>1&&(p.result=`(?:${p.result})`),r.cache[l]=p,p.result};function i(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=function(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}(e,t),i=r.length,s="",o=0;for(let e=0;e<i;e++){let[t,n]=r[e];t===n?s+=t:"0"!==t||"9"!==n?s+=p(t,n):o++}return o&&(s+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function s(e,t,n,r){let s,o=function(e,t){let n=1,r=1,i=c(e,n),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),n+=1,i=c(e,n);for(i=u(t+1,r)-1;e<i&&i<=t;)s.add(i),r+=1,i=u(t+1,r)-1;return s=[...s],s.sort(a),s}(e,t),l=[],p=e;for(let e=0;e<o.length;e++){let t=o[e],a=i(String(p),String(t),r),c="";n.isPadded||!s||s.pattern!==a.pattern?(n.isPadded&&(c=h(t,n,r)),a.string=c+a.pattern+d(a.count),l.push(a),p=t+1,s=a):(s.count.length>1&&s.count.pop(),s.count.push(a.count[0]),s.string=s.pattern+d(s.count),p=t+1)}return l}function o(e,t,n,r,i){let s=[];for(let i of e){let{string:e}=i;r||l(t,"string",e)||s.push(n+e),r&&l(t,"string",e)&&s.push(n+e)}return s}function a(e,t){return e>t?1:t>e?-1:0}function l(e,t,n){return e.some((e=>e[t]===n))}function c(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function u(e,t){return e-e%Math.pow(10,t)}function d(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function p(e,t,n){return`[${e}${t-e==1?"":"-"}${t}]`}function f(e){return/^-?(0+)\d/.test(e)}function h(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),i=!1!==n.relaxZeros;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}r.cache={},r.clearCache=()=>r.cache={},t.exports=r}}),X=N({"../../node_modules/.pnpm/fill-range@7.1.1/node_modules/fill-range/index.js"(e,t){var n=F("util"),r=Y(),i=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),s=e=>"number"==typeof e||"string"==typeof e&&""!==e,o=e=>Number.isInteger(+e),a=e=>{let t=`${e}`,n=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++n];);return n>0},l=(e,t,n)=>{if(t>0){let n="-"===e[0]?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return!1===n?String(e):e},c=(e,t)=>{let n="-"===e[0]?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},u=(e,t,n,i)=>{if(n)return r(e,t,{wrap:!1,...i});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},d=(e,t,n)=>{if(Array.isArray(e)){let t=!0===n.wrap,r=n.capture?"":"?:";return t?`(${r}${e.join("|")})`:e.join("|")}return r(e,t,n)},p=(...e)=>new RangeError("Invalid range arguments: "+n.inspect(...e)),f=(e,t,n)=>{if(!0===n.strictRanges)throw p([e,t]);return[]},h=(e,t,n=1,r={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(!0===r.strictRanges)throw p([e,t]);return[]}0===i&&(i=0),0===s&&(s=0);let o=i>s,f=String(e),h=String(t),g=String(n);n=Math.max(Math.abs(n),1);let m=a(f)||a(h)||a(g),y=m?Math.max(f.length,h.length,g.length):0,_=!1===m&&!1===((e,t,n)=>"string"==typeof e||"string"==typeof t||!0===n.stringify)(e,t,r),b=r.transform||(e=>t=>!0===e?Number(t):String(t))(_);if(r.toRegex&&1===n)return u(c(e,y),c(t,y),!0,r);let v={negatives:[],positives:[]},E=[],S=0;for(;o?i>=s:i<=s;)!0===r.toRegex&&n>1?v[(x=i)<0?"negatives":"positives"].push(Math.abs(x)):E.push(l(b(i,S),y,_)),i=o?i-n:i+n,S++;var x;return!0===r.toRegex?n>1?((e,t,n)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let r,i=t.capture?"":"?:",s="",o="";return e.positives.length&&(s=e.positives.map((e=>c(String(e),n))).join("|")),e.negatives.length&&(o=`-(${i}${e.negatives.map((e=>c(String(e),n))).join("|")})`),r=s&&o?`${s}|${o}`:s||o,t.wrap?`(${i}${r})`:r})(v,r,y):d(E,null,{wrap:!1,...r}):E},g=(e,t,n,r={})=>{if(null==t&&s(e))return[e];if(!s(e)||!s(t))return f(e,t,r);if("function"==typeof n)return g(e,t,1,{transform:n});if(i(n))return g(e,t,0,n);let a={...r};return!0===a.capture&&(a.wrap=!0),n=n||a.step||1,o(n)?o(e)&&o(t)?h(e,t,n,a):((e,t,n=1,r={})=>{if(!o(e)&&e.length>1||!o(t)&&t.length>1)return f(e,t,r);let i=r.transform||(e=>String.fromCharCode(e)),s=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),l=s>a,c=Math.min(s,a),p=Math.max(s,a);if(r.toRegex&&1===n)return u(c,p,!1,r);let h=[],g=0;for(;l?s>=a:s<=a;)h.push(i(s,g)),s=l?s-n:s+n,g++;return!0===r.toRegex?d(h,null,{wrap:!1,options:r}):h})(e,t,Math.max(Math.abs(n),1),a):null==n||i(n)?g(e,t,1,n):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(n,a)};t.exports=g}}),J=N({"../../node_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/compile.js"(e,t){var n=X(),r=V();t.exports=(e,t={})=>{const i=(e,s={})=>{const o=r.isInvalidBrace(s),a=!0===e.invalid&&!0===t.escapeInvalid,l=!0===o||!0===a,c=!0===t.escapeInvalid?"\\":"";let u="";if(!0===e.isOpen)return c+e.value;if(!0===e.isClose)return console.log("node.isClose",c,e.value),c+e.value;if("open"===e.type)return l?c+e.value:"(";if("close"===e.type)return l?c+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":l?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const i=r.reduce(e.nodes),s=n(...i,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(0!==s.length)return i.length>1&&s.length>1?`(${s})`:s}if(e.nodes)for(const t of e.nodes)u+=i(t,e);return u};return i(e)}}}),Z=N({"../../node_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/expand.js"(e,t){var n=X(),r=K(),i=V(),s=(e="",t="",n=!1)=>{const r=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return n?i.flatten(t).map((e=>`{${e}}`)):t;for(const i of e)if(Array.isArray(i))for(const e of i)r.push(s(e,t,n));else for(let e of t)!0===n&&"string"==typeof e&&(e=`{${e}}`),r.push(Array.isArray(e)?s(i,e,n):i+e);return i.flatten(r)};t.exports=(e,t={})=>{const o=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,l={})=>{e.queue=[];let c=l,u=l.queue;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)c=c.parent,u=c.queue;if(e.invalid||e.dollar)return void u.push(s(u.pop(),r(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void u.push(s(u.pop(),["{}"]));if(e.nodes&&e.ranges>0){const a=i.reduce(e.nodes);if(i.exceedsLimit(...a,t.step,o))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=n(...a,t);return 0===l.length&&(l=r(e,t)),u.push(s(u.pop(),l)),void(e.nodes=[])}const d=i.encloseBrace(e);let p=e.queue,f=e;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,p=f.queue;for(let t=0;t<e.nodes.length;t++){const n=e.nodes[t];"comma"!==n.type||"brace"!==e.type?"close"!==n.type?n.value&&"open"!==n.type?p.push(s(p.pop(),n.value)):n.nodes&&a(n,e):u.push(s(u.pop(),p,d)):(1===t&&p.push(""),p.push(""))}return p};return i.flatten(a(e))}}}),ee=N({"../../node_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/constants.js"(e,t){t.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}}}),te=N({"../../node_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/parse.js"(e,t){var n=K(),{MAX_LENGTH:r,CHAR_BACKSLASH:i,CHAR_BACKTICK:s,CHAR_COMMA:o,CHAR_DOT:a,CHAR_LEFT_PARENTHESES:l,CHAR_RIGHT_PARENTHESES:c,CHAR_LEFT_CURLY_BRACE:u,CHAR_RIGHT_CURLY_BRACE:d,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:f,CHAR_DOUBLE_QUOTE:h,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:m,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=ee();t.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");const _=t||{},b="number"==typeof _.maxLength?Math.min(r,_.maxLength):r;if(e.length>b)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${b})`);const v={type:"root",input:e,nodes:[]},E=[v];let S=v,x=v,w=0;const A=e.length;let k,R=0,P=0;const C=()=>e[R++],O=e=>{if("text"===e.type&&"dot"===x.type&&(x.type="text"),!x||"text"!==x.type||"text"!==e.type)return S.nodes.push(e),e.parent=S,e.prev=x,x=e,e;x.value+=e.value};for(O({type:"bos"});R<A;)if(S=E[E.length-1],k=C(),k!==y&&k!==m)if(k!==i)if(k!==f)if(k!==p)if(k!==l)if(k!==c)if(k!==h&&k!==g&&k!==s)if(k!==u)if(k!==d)if(k===o&&P>0){if(S.ranges>0){S.ranges=0;const e=S.nodes.shift();S.nodes=[e,{type:"text",value:n(S)}]}O({type:"comma",value:k}),S.commas++}else if(k===a&&P>0&&0===S.commas){const e=S.nodes;if(0===P||0===e.length){O({type:"text",value:k});continue}if("dot"===x.type){if(S.range=[],x.value+=k,x.type="range",3!==S.nodes.length&&5!==S.nodes.length){S.invalid=!0,S.ranges=0,x.type="text";continue}S.ranges++,S.args=[];continue}if("range"===x.type){e.pop();const t=e[e.length-1];t.value+=x.value+k,x=t,S.ranges--;continue}O({type:"dot",value:k})}else O({type:"text",value:k});else{if("brace"!==S.type){O({type:"text",value:k});continue}const e="close";S=E.pop(),S.close=!0,O({type:e,value:k}),P--,S=E[E.length-1]}else{P++;const e=x.value&&"$"===x.value.slice(-1)||!0===S.dollar;S=O({type:"brace",open:!0,close:!1,dollar:e,depth:P,commas:0,ranges:0,nodes:[]}),E.push(S),O({type:"open",value:k})}else{const e=k;let n;for(!0!==t.keepQuotes&&(k="");R<A&&(n=C());)if(n!==i){if(n===e){!0===t.keepQuotes&&(k+=n);break}k+=n}else k+=n+C();O({type:"text",value:k})}else{if("paren"!==S.type){O({type:"text",value:k});continue}S=E.pop(),O({type:"text",value:k}),S=E[E.length-1]}else S=O({type:"paren",nodes:[]}),E.push(S),O({type:"text",value:k});else{let e;for(w++;R<A&&(e=C());)if(k+=e,e!==p)if(e!==i){if(e===f&&(w--,0===w))break}else k+=C();else w++;O({type:"text",value:k})}else O({type:"text",value:"\\"+k});else O({type:"text",value:(t.keepEscaping?k:"")+C()});do{if(S=E.pop(),"root"!==S.type){S.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));const e=E[E.length-1],t=e.nodes.indexOf(S);e.nodes.splice(t,1,...S.nodes)}}while(E.length>0);return O({type:"eos"}),v}}}),ne=N({"../../node_modules/.pnpm/braces@3.0.3/node_modules/braces/index.js"(e,t){var n=K(),r=J(),i=Z(),s=te(),o=(e,t={})=>{let n=[];if(Array.isArray(e))for(const r of e){const e=o.create(r,t);Array.isArray(e)?n.push(...e):n.push(e)}else n=[].concat(o.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(n=[...new Set(n)]),n};o.parse=(e,t={})=>s(e,t),o.stringify=(e,t={})=>n("string"==typeof e?o.parse(e,t):e,t),o.compile=(e,t={})=>("string"==typeof e&&(e=o.parse(e,t)),r(e,t)),o.expand=(e,t={})=>{"string"==typeof e&&(e=o.parse(e,t));let n=i(e,t);return!0===t.noempty&&(n=n.filter(Boolean)),!0===t.nodupes&&(n=[...new Set(n)]),n},o.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?o.compile(e,t):o.expand(e,t),t.exports=o}}),re=N({"../../node_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/constants.js"(e,t){var n=F("path"),r="\\\\/",i=`[^${r}]`,s="\\.",o="\\/",a="[^/]",l=`(?:${o}|$)`,c=`(?:^|${o})`,u=`${s}{1,2}${l}`,d={DOT_LITERAL:s,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:o,ONE_CHAR:"(?=.)",QMARK:a,END_ANCHOR:l,DOTS_SLASH:u,NO_DOT:`(?!${s})`,NO_DOTS:`(?!${c}${u})`,NO_DOT_SLASH:`(?!${s}{0,1}${l})`,NO_DOTS_SLASH:`(?!${u})`,QMARK_NO_DOT:`[^.${o}]`,STAR:`${a}*?`,START_ANCHOR:c},p={...d,SLASH_LITERAL:`[${r}]`,QMARK:i,STAR:`${i}*?`,DOTS_SLASH:`${s}{1,2}(?:[${r}]|$)`,NO_DOT:`(?!${s})`,NO_DOTS:`(?!(?:^|[${r}])${s}{1,2}(?:[${r}]|$))`,NO_DOT_SLASH:`(?!${s}{0,1}(?:[${r}]|$))`,NO_DOTS_SLASH:`(?!${s}{1,2}(?:[${r}]|$))`,QMARK_NO_DOT:`[^.${r}]`,START_ANCHOR:`(?:^|[${r}])`,END_ANCHOR:`(?:[${r}]|$)`};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?p:d}}}),ie=N({"../../node_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/utils.js"(e){var t=F("path"),n="win32"===process.platform,{REGEX_BACKSLASH:r,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:o}=re();e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>s.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(o,"\\$1"),e.toPosixSlashes=e=>e.replace(r,"/"),e.removeBackslashes=e=>e.replace(i,(e=>"\\"===e?"":e)),e.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},e.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===n||"\\"===t.sep,e.escapeLast=(t,n,r)=>{const i=t.lastIndexOf(n,r);return-1===i?t:"\\"===t[i-1]?e.escapeLast(t,n,i-1):`${t.slice(0,i)}\\${t.slice(i)}`},e.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n},e.wrapOutput=(e,t={},n={})=>{let r=`${n.contains?"":"^"}(?:${e})${n.contains?"":"$"}`;return!0===t.negated&&(r=`(?:^(?!${r}).*$)`),r}}}),se=N({"../../node_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/scan.js"(e,t){var n=ie(),{CHAR_ASTERISK:r,CHAR_AT:i,CHAR_BACKWARD_SLASH:s,CHAR_COMMA:o,CHAR_DOT:a,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:c,CHAR_LEFT_CURLY_BRACE:u,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:f,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:m,CHAR_RIGHT_SQUARE_BRACKET:y}=re(),_=e=>e===c||e===s,b=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};t.exports=(e,t)=>{const v=t||{},E=e.length-1,S=!0===v.parts||!0===v.scanToEnd,x=[],w=[],A=[];let k,R,P=e,C=-1,O=0,T=0,$=!1,L=!1,j=!1,M=!1,F=!1,N=!1,I=!1,H=!1,D=!1,B=!1,U=0,G={value:"",depth:0,isGlob:!1};const q=()=>C>=E,W=()=>(k=R,P.charCodeAt(++C));for(;C<E;){let e;if(R=W(),R!==s){if(!0===N||R===u){for(U++;!0!==q()&&(R=W());)if(R!==s)if(R!==u){if(!0!==N&&R===a&&(R=W())===a){if($=G.isBrace=!0,j=G.isGlob=!0,B=!0,!0===S)continue;break}if(!0!==N&&R===o){if($=G.isBrace=!0,j=G.isGlob=!0,B=!0,!0===S)continue;break}if(R===g&&(U--,0===U)){N=!1,$=G.isBrace=!0,B=!0;break}}else U++;else I=G.backslashes=!0,W();if(!0===S)continue;break}if(R!==c){if(!0!==v.noext){if(!0===(R===f||R===i||R===r||R===h||R===l)&&P.charCodeAt(C+1)===d){if(j=G.isGlob=!0,M=G.isExtglob=!0,B=!0,R===l&&C===O&&(D=!0),!0===S){for(;!0!==q()&&(R=W());)if(R!==s){if(R===m){j=G.isGlob=!0,B=!0;break}}else I=G.backslashes=!0,R=W();continue}break}}if(R===r){if(k===r&&(F=G.isGlobstar=!0),j=G.isGlob=!0,B=!0,!0===S)continue;break}if(R===h){if(j=G.isGlob=!0,B=!0,!0===S)continue;break}if(R===p){for(;!0!==q()&&(e=W());)if(e!==s){if(e===y){L=G.isBracket=!0,j=G.isGlob=!0,B=!0;break}}else I=G.backslashes=!0,W();if(!0===S)continue;break}if(!0===v.nonegate||R!==l||C!==O){if(!0!==v.noparen&&R===d){if(j=G.isGlob=!0,!0===S){for(;!0!==q()&&(R=W());)if(R!==d){if(R===m){B=!0;break}}else I=G.backslashes=!0,R=W();continue}break}if(!0===j){if(B=!0,!0===S)continue;break}}else H=G.negated=!0,O++}else{if(x.push(C),w.push(G),G={value:"",depth:0,isGlob:!1},!0===B)continue;if(k===a&&C===O+1){O+=2;continue}T=C+1}}else I=G.backslashes=!0,R=W(),R===u&&(N=!0)}!0===v.noext&&(M=!1,j=!1);let z=P,V="",K="";O>0&&(V=P.slice(0,O),P=P.slice(O),T-=O),z&&!0===j&&T>0?(z=P.slice(0,T),K=P.slice(T)):!0===j?(z="",K=P):z=P,z&&""!==z&&"/"!==z&&z!==P&&_(z.charCodeAt(z.length-1))&&(z=z.slice(0,-1)),!0===v.unescape&&(K&&(K=n.removeBackslashes(K)),z&&!0===I&&(z=n.removeBackslashes(z)));const Q={prefix:V,input:e,start:O,base:z,glob:K,isBrace:$,isBracket:L,isGlob:j,isExtglob:M,isGlobstar:F,negated:H,negatedExtglob:D};if(!0===v.tokens&&(Q.maxDepth=0,_(R)||w.push(G),Q.tokens=w),!0===v.parts||!0===v.tokens){let t;for(let n=0;n<x.length;n++){const r=t?t+1:O,i=x[n],s=e.slice(r,i);v.tokens&&(0===n&&0!==O?(w[n].isPrefix=!0,w[n].value=V):w[n].value=s,b(w[n]),Q.maxDepth+=w[n].depth),0===n&&""===s||A.push(s),t=i}if(t&&t+1<e.length){const n=e.slice(t+1);A.push(n),v.tokens&&(w[w.length-1].value=n,b(w[w.length-1]),Q.maxDepth+=w[w.length-1].depth)}Q.slashes=x,Q.parts=A}return Q}}}),oe=N({"../../node_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/parse.js"(e,t){var n=re(),r=ie(),{MAX_LENGTH:i,POSIX_REGEX_SOURCE:s,REGEX_NON_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_BACKREF:a,REPLACEMENTS:l}=n,c=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch(t){return e.map((e=>r.escapeRegex(e))).join("..")}return n},u=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=l[e]||e;const p={...t},f="number"==typeof p.maxLength?Math.min(i,p.maxLength):i;let h=e.length;if(h>f)throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${f}`);const g={type:"bos",value:"",output:p.prepend||""},m=[g],y=p.capture?"":"?:",_=r.isWindows(t),b=n.globChars(_),v=n.extglobChars(b),{DOT_LITERAL:E,PLUS_LITERAL:S,SLASH_LITERAL:x,ONE_CHAR:w,DOTS_SLASH:A,NO_DOT:k,NO_DOT_SLASH:R,NO_DOTS_SLASH:P,QMARK:C,QMARK_NO_DOT:O,STAR:T,START_ANCHOR:$}=b,L=e=>`(${y}(?:(?!${$}${e.dot?A:E}).)*?)`,j=p.dot?"":k,M=p.dot?C:O;let F=!0===p.bash?L(p):T;p.capture&&(F=`(${F})`),"boolean"==typeof p.noext&&(p.noextglob=p.noext);const N={input:e,index:-1,start:0,dot:!0===p.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:m};e=r.removePrefix(e,N),h=e.length;const I=[],H=[],D=[];let B,U=g;const G=()=>N.index===h-1,q=N.peek=(t=1)=>e[N.index+t],W=N.advance=()=>e[++N.index]||"",z=()=>e.slice(N.index+1),V=(e="",t=0)=>{N.consumed+=e,N.index+=t},K=e=>{N.output+=null!=e.output?e.output:e.value,V(e.value)},Q=()=>{let e=1;for(;"!"===q()&&("("!==q(2)||"?"===q(3));)W(),N.start++,e++;return e%2!=0&&(N.negated=!0,N.start++,!0)},Y=e=>{N[e]++,D.push(e)},X=e=>{N[e]--,D.pop()},J=e=>{if("globstar"===U.type){const t=N.braces>0&&("comma"===e.type||"brace"===e.type),n=!0===e.extglob||I.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(N.output=N.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=F,N.output+=U.output)}if(I.length&&"paren"!==e.type&&(I[I.length-1].inner+=e.value),(e.value||e.output)&&K(e),U&&"text"===U.type&&"text"===e.type)return U.value+=e.value,void(U.output=(U.output||"")+e.value);e.prev=U,m.push(e),U=e},Z=(e,t)=>{const n={...v[t],conditions:1,inner:""};n.prev=U,n.parens=N.parens,n.output=N.output;const r=(p.capture?"(":"")+n.open;Y("parens"),J({type:e,value:t,output:N.output?"":w}),J({type:"paren",extglob:!0,value:W(),output:r}),I.push(n)},ee=e=>{let n,r=e.close+(p.capture?")":"");if("negate"===e.type){let i=F;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(i=L(p)),(i!==F||G()||/^\)+$/.test(z()))&&(r=e.close=`)$))${i}`),e.inner.includes("*")&&(n=z())&&/^\.[^\\/.]+$/.test(n)){const s=d(n,{...t,fastpaths:!1}).output;r=e.close=`)${s})${i})`}"bos"===e.prev.type&&(N.negatedExtglob=!0)}J({type:"paren",extglob:!0,value:B,output:r}),X("parens")};if(!1!==p.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,i=e.replace(a,((e,t,r,i,s,o)=>"\\"===i?(n=!0,e):"?"===i?t?t+i+(s?C.repeat(s.length):""):0===o?M+(s?C.repeat(s.length):""):C.repeat(r.length):"."===i?E.repeat(r.length):"*"===i?t?t+i+(s?F:""):F:t?e:`\\${e}`));return!0===n&&(i=!0===p.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),i===e&&!0===p.contains?(N.output=e,N):(N.output=r.wrapOutput(i,N,t),N)}for(;!G();){if(B=W(),"\0"===B)continue;if("\\"===B){const e=q();if("/"===e&&!0!==p.bash)continue;if("."===e||";"===e)continue;if(!e){B+="\\",J({type:"text",value:B});continue}const t=/^\\+/.exec(z());let n=0;if(t&&t[0].length>2&&(n=t[0].length,N.index+=n,n%2!=0&&(B+="\\")),!0===p.unescape?B=W():B+=W(),0===N.brackets){J({type:"text",value:B});continue}}if(N.brackets>0&&("]"!==B||"["===U.value||"[^"===U.value)){if(!1!==p.posix&&":"===B){const e=U.value.slice(1);if(e.includes("[")&&(U.posix=!0,e.includes(":"))){const e=U.value.lastIndexOf("["),t=U.value.slice(0,e),n=U.value.slice(e+2),r=s[n];if(r){U.value=t+r,N.backtrack=!0,W(),g.output||1!==m.indexOf(U)||(g.output=w);continue}}}("["===B&&":"!==q()||"-"===B&&"]"===q())&&(B=`\\${B}`),"]"!==B||"["!==U.value&&"[^"!==U.value||(B=`\\${B}`),!0===p.posix&&"!"===B&&"["===U.value&&(B="^"),U.value+=B,K({value:B});continue}if(1===N.quotes&&'"'!==B){B=r.escapeRegex(B),U.value+=B,K({value:B});continue}if('"'===B){N.quotes=1===N.quotes?0:1,!0===p.keepQuotes&&J({type:"text",value:B});continue}if("("===B){Y("parens"),J({type:"paren",value:B});continue}if(")"===B){if(0===N.parens&&!0===p.strictBrackets)throw new SyntaxError(u("opening","("));const e=I[I.length-1];if(e&&N.parens===e.parens+1){ee(I.pop());continue}J({type:"paren",value:B,output:N.parens?")":"\\)"}),X("parens");continue}if("["===B){if(!0!==p.nobracket&&z().includes("]"))Y("brackets");else{if(!0!==p.nobracket&&!0===p.strictBrackets)throw new SyntaxError(u("closing","]"));B=`\\${B}`}J({type:"bracket",value:B});continue}if("]"===B){if(!0===p.nobracket||U&&"bracket"===U.type&&1===U.value.length){J({type:"text",value:B,output:`\\${B}`});continue}if(0===N.brackets){if(!0===p.strictBrackets)throw new SyntaxError(u("opening","["));J({type:"text",value:B,output:`\\${B}`});continue}X("brackets");const e=U.value.slice(1);if(!0===U.posix||"^"!==e[0]||e.includes("/")||(B=`/${B}`),U.value+=B,K({value:B}),!1===p.literalBrackets||r.hasRegexChars(e))continue;const t=r.escapeRegex(U.value);if(N.output=N.output.slice(0,-U.value.length),!0===p.literalBrackets){N.output+=t,U.value=t;continue}U.value=`(${y}${t}|${U.value})`,N.output+=U.value;continue}if("{"===B&&!0!==p.nobrace){Y("braces");const e={type:"brace",value:B,output:"(",outputIndex:N.output.length,tokensIndex:N.tokens.length};H.push(e),J(e);continue}if("}"===B){const e=H[H.length-1];if(!0===p.nobrace||!e){J({type:"text",value:B,output:B});continue}let t=")";if(!0===e.dots){const e=m.slice(),n=[];for(let t=e.length-1;t>=0&&(m.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=c(n,p),N.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const n=N.output.slice(0,e.outputIndex),r=N.tokens.slice(e.tokensIndex);e.value=e.output="\\{",B=t="\\}",N.output=n;for(const e of r)N.output+=e.output||e.value}J({type:"brace",value:B,output:t}),X("braces"),H.pop();continue}if("|"===B){I.length>0&&I[I.length-1].conditions++,J({type:"text",value:B});continue}if(","===B){let e=B;const t=H[H.length-1];t&&"braces"===D[D.length-1]&&(t.comma=!0,e="|"),J({type:"comma",value:B,output:e});continue}if("/"===B){if("dot"===U.type&&N.index===N.start+1){N.start=N.index+1,N.consumed="",N.output="",m.pop(),U=g;continue}J({type:"slash",value:B,output:x});continue}if("."===B){if(N.braces>0&&"dot"===U.type){"."===U.value&&(U.output=E);const e=H[H.length-1];U.type="dots",U.output+=B,U.value+=B,e.dots=!0;continue}if(N.braces+N.parens===0&&"bos"!==U.type&&"slash"!==U.type){J({type:"text",value:B,output:E});continue}J({type:"dot",value:B,output:E});continue}if("?"===B){if(!(U&&"("===U.value)&&!0!==p.noextglob&&"("===q()&&"?"!==q(2)){Z("qmark",B);continue}if(U&&"paren"===U.type){const e=q();let t=B;if("<"===e&&!r.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===U.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(z()))&&(t=`\\${B}`),J({type:"text",value:B,output:t});continue}if(!0!==p.dot&&("slash"===U.type||"bos"===U.type)){J({type:"qmark",value:B,output:O});continue}J({type:"qmark",value:B,output:C});continue}if("!"===B){if(!0!==p.noextglob&&"("===q()&&("?"!==q(2)||!/[!=<:]/.test(q(3)))){Z("negate",B);continue}if(!0!==p.nonegate&&0===N.index){Q();continue}}if("+"===B){if(!0!==p.noextglob&&"("===q()&&"?"!==q(2)){Z("plus",B);continue}if(U&&"("===U.value||!1===p.regex){J({type:"plus",value:B,output:S});continue}if(U&&("bracket"===U.type||"paren"===U.type||"brace"===U.type)||N.parens>0){J({type:"plus",value:B});continue}J({type:"plus",value:S});continue}if("@"===B){if(!0!==p.noextglob&&"("===q()&&"?"!==q(2)){J({type:"at",extglob:!0,value:B,output:""});continue}J({type:"text",value:B});continue}if("*"!==B){"$"!==B&&"^"!==B||(B=`\\${B}`);const e=o.exec(z());e&&(B+=e[0],N.index+=e[0].length),J({type:"text",value:B});continue}if(U&&("globstar"===U.type||!0===U.star)){U.type="star",U.star=!0,U.value+=B,U.output=F,N.backtrack=!0,N.globstar=!0,V(B);continue}let t=z();if(!0!==p.noextglob&&/^\([^?]/.test(t)){Z("star",B);continue}if("star"===U.type){if(!0===p.noglobstar){V(B);continue}const n=U.prev,r=n.prev,i="slash"===n.type||"bos"===n.type,s=r&&("star"===r.type||"globstar"===r.type);if(!0===p.bash&&(!i||t[0]&&"/"!==t[0])){J({type:"star",value:B,output:""});continue}const o=N.braces>0&&("comma"===n.type||"brace"===n.type),a=I.length&&("pipe"===n.type||"paren"===n.type);if(!i&&"paren"!==n.type&&!o&&!a){J({type:"star",value:B,output:""});continue}for(;"/**"===t.slice(0,3);){const n=e[N.index+4];if(n&&"/"!==n)break;t=t.slice(3),V("/**",3)}if("bos"===n.type&&G()){U.type="globstar",U.value+=B,U.output=L(p),N.output=U.output,N.globstar=!0,V(B);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&G()){N.output=N.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=L(p)+(p.strictSlashes?")":"|$)"),U.value+=B,N.globstar=!0,N.output+=n.output+U.output,V(B);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";N.output=N.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=`${L(p)}${x}|${x}${e})`,U.value+=B,N.output+=n.output+U.output,N.globstar=!0,V(B+W()),J({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){U.type="globstar",U.value+=B,U.output=`(?:^|${x}|${L(p)}${x})`,N.output=U.output,N.globstar=!0,V(B+W()),J({type:"slash",value:"/",output:""});continue}N.output=N.output.slice(0,-U.output.length),U.type="globstar",U.output=L(p),U.value+=B,N.output+=U.output,N.globstar=!0,V(B);continue}const n={type:"star",value:B,output:F};!0!==p.bash?!U||"bracket"!==U.type&&"paren"!==U.type||!0!==p.regex?(N.index!==N.start&&"slash"!==U.type&&"dot"!==U.type||("dot"===U.type?(N.output+=R,U.output+=R):!0===p.dot?(N.output+=P,U.output+=P):(N.output+=j,U.output+=j),"*"!==q()&&(N.output+=w,U.output+=w)),J(n)):(n.output=B,J(n)):(n.output=".*?","bos"!==U.type&&"slash"!==U.type||(n.output=j+n.output),J(n))}for(;N.brackets>0;){if(!0===p.strictBrackets)throw new SyntaxError(u("closing","]"));N.output=r.escapeLast(N.output,"["),X("brackets")}for(;N.parens>0;){if(!0===p.strictBrackets)throw new SyntaxError(u("closing",")"));N.output=r.escapeLast(N.output,"("),X("parens")}for(;N.braces>0;){if(!0===p.strictBrackets)throw new SyntaxError(u("closing","}"));N.output=r.escapeLast(N.output,"{"),X("braces")}if(!0===p.strictSlashes||"star"!==U.type&&"bracket"!==U.type||J({type:"maybe_slash",value:"",output:`${x}?`}),!0===N.backtrack){N.output="";for(const e of N.tokens)N.output+=null!=e.output?e.output:e.value,e.suffix&&(N.output+=e.suffix)}return N};d.fastpaths=(e,t)=>{const s={...t},o="number"==typeof s.maxLength?Math.min(i,s.maxLength):i,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=l[e]||e;const c=r.isWindows(t),{DOT_LITERAL:u,SLASH_LITERAL:d,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:h,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:_}=n.globChars(c),b=s.dot?g:h,v=s.dot?m:h,E=s.capture?"":"?:";let S=!0===s.bash?".*?":y;s.capture&&(S=`(${S})`);const x=e=>!0===e.noglobstar?S:`(${E}(?:(?!${_}${e.dot?f:u}).)*?)`,w=e=>{switch(e){case"*":return`${b}${p}${S}`;case".*":return`${u}${p}${S}`;case"*.*":return`${b}${S}${u}${p}${S}`;case"*/*":return`${b}${S}${d}${p}${v}${S}`;case"**":return b+x(s);case"**/*":return`(?:${b}${x(s)}${d})?${v}${p}${S}`;case"**/*.*":return`(?:${b}${x(s)}${d})?${v}${S}${u}${p}${S}`;case"**/.*":return`(?:${b}${x(s)}${d})?${u}${p}${S}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const n=w(t[1]);if(!n)return;return n+u+t[2]}}},A=r.removePrefix(e,{negated:!1,prefix:""});let k=w(A);return k&&!0!==s.strictSlashes&&(k+=`${d}?`),k},t.exports=d}}),ae=N({"../../node_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/picomatch.js"(e,t){var n=F("path"),r=se(),i=oe(),s=ie(),o=re(),a=(e,t,n=!1)=>{if(Array.isArray(e)){const r=e.map((e=>a(e,t,n)));return e=>{for(const t of r){const n=t(e);if(n)return n}return!1}}const r=(i=e)&&"object"==typeof i&&!Array.isArray(i)&&e.tokens&&e.input;var i;if(""===e||"string"!=typeof e&&!r)throw new TypeError("Expected pattern to be a non-empty string");const o=t||{},l=s.isWindows(t),c=r?a.compileRe(e,t):a.makeRe(e,t,!1,!0),u=c.state;delete c.state;let d=()=>!1;if(o.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};d=a(o.ignore,e,n)}const p=(n,r=!1)=>{const{isMatch:i,match:s,output:p}=a.test(n,c,t,{glob:e,posix:l}),f={glob:e,state:u,regex:c,posix:l,input:n,output:p,match:s,isMatch:i};return"function"==typeof o.onResult&&o.onResult(f),!1===i?(f.isMatch=!1,!!r&&f):d(n)?("function"==typeof o.onIgnore&&o.onIgnore(f),f.isMatch=!1,!!r&&f):("function"==typeof o.onMatch&&o.onMatch(f),!r||f)};return n&&(p.state=u),p};a.test=(e,t,n,{glob:r,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const o=n||{},l=o.format||(i?s.toPosixSlashes:null);let c=e===r,u=c&&l?l(e):e;return!1===c&&(u=l?l(e):e,c=u===r),!1!==c&&!0!==o.capture||(c=!0===o.matchBase||!0===o.basename?a.matchBase(e,t,n,i):t.exec(u)),{isMatch:Boolean(c),match:c,output:u}},a.matchBase=(e,t,r,i=s.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,n)=>a(t,n)(e),a.parse=(e,t)=>Array.isArray(e)?e.map((e=>a.parse(e,t))):i(e,{...t,fastpaths:!1}),a.scan=(e,t)=>r(e,t),a.compileRe=(e,t,n=!1,r=!1)=>{if(!0===n)return e.output;const i=t||{},s=i.contains?"":"^",o=i.contains?"":"$";let l=`${s}(?:${e.output})${o}`;e&&!0===e.negated&&(l=`^(?!${l}).*$`);const c=a.toRegex(l,t);return!0===r&&(c.state=e),c},a.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(s.output=i.fastpaths(e,t)),s.output||(s=i(e,t)),a.compileRe(s,t,n,r)},a.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=o,t.exports=a}}),le=N({"../../node_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/index.js"(e,t){t.exports=ae()}}),ce=N({"../../node_modules/.pnpm/micromatch@4.0.7/node_modules/micromatch/index.js"(e,t){var n=F("util"),r=ne(),i=le(),s=ie(),o=e=>""===e||"./"===e,a=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,s=new Set,o=new Set,a=0,l=e=>{o.add(e.output),n&&n.onResult&&n.onResult(e)};for(let o=0;o<t.length;o++){let c=i(String(t[o]),{...n,onResult:l},!0),u=c.state.negated||c.state.negatedExtglob;u&&a++;for(let t of e){let e=c(t,!0);(u?!e.isMatch:e.isMatch)&&(u?r.add(e.output):(r.delete(e.output),s.add(e.output)))}}let c=(a===t.length?[...o]:[...s]).filter((e=>!r.has(e)));if(n&&0===c.length){if(!0===n.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?t.map((e=>e.replace(/\\/g,""))):t}return c};a.match=a,a.matcher=(e,t)=>i(e,t),a.any=a.isMatch=(e,t,n)=>i(t,n)(e),a.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,i=[],s=new Set(a(e,t,{...n,onResult:e=>{n.onResult&&n.onResult(e),i.push(e.output)}}));for(let e of i)s.has(e)||r.add(e);return[...r]},a.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>a.contains(e,t,r)));if("string"==typeof t){if(o(e)||o(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return a.isMatch(e,t,{...r,contains:!0})},a.matchKeys=(e,t,n)=>{if(!s.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=a(Object.keys(e),t,n),i={};for(let t of r)i[t]=e[t];return i},a.some=(e,t,n)=>{let r=[].concat(e);for(let e of[].concat(t)){let t=i(String(e),n);if(r.some((e=>t(e))))return!0}return!1},a.every=(e,t,n)=>{let r=[].concat(e);for(let e of[].concat(t)){let t=i(String(e),n);if(!r.every((e=>t(e))))return!1}return!0},a.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);return[].concat(t).every((t=>i(t,r)(e)))},a.capture=(e,t,n)=>{let r=s.isWindows(n),o=i.makeRe(String(e),{...n,capture:!0}).exec(r?s.toPosixSlashes(t):t);if(o)return o.slice(1).map((e=>void 0===e?"":e))},a.makeRe=(...e)=>i.makeRe(...e),a.scan=(...e)=>i.scan(...e),a.parse=(e,t)=>{let n=[];for(let s of[].concat(e||[]))for(let e of r(String(s),t))n.push(i.parse(e,t));return n},a.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:r(e,t)},a.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return a.braces(e,{...t,expand:!0})},t.exports=a}}),ue=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/pattern.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeDuplicateSlashes=e.matchAny=e.convertPatternsToRe=e.makeRe=e.getPatternParts=e.expandBraceExpansion=e.expandPatternsWithBraceExpansion=e.isAffectDepthOfReadingPattern=e.endsWithSlashGlobStar=e.hasGlobStar=e.getBaseDirectory=e.isPatternRelatedToParentDirectory=e.getPatternsOutsideCurrentDirectory=e.getPatternsInsideCurrentDirectory=e.getPositivePatterns=e.getNegativePatterns=e.isPositivePattern=e.isNegativePattern=e.convertToNegativePattern=e.convertToPositivePattern=e.isDynamicPattern=e.isStaticPattern=void 0;var t=F("path"),n=z(),r=ce(),i=/[*?]|^!/,s=/\[[^[]*]/,o=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,a=/[!*+?@]\([^(]*\)/,l=/,|\.\./,c=/(?!^)\/{2,}/g;function u(e,t={}){return!d(e,t)}function d(e,t={}){return""!==e&&(!(!1!==t.caseSensitiveMatch&&!e.includes("\\"))||(!!(i.test(e)||s.test(e)||o.test(e))||(!(!1===t.extglob||!a.test(e))||!(!1===t.braceExpansion||!function(e){const t=e.indexOf("{");if(-1===t)return!1;const n=e.indexOf("}",t+1);if(-1===n)return!1;const r=e.slice(t,n);return l.test(r)}(e)))))}function p(e){return e.startsWith("!")&&"("!==e[1]}function f(e){return!p(e)}function h(e){return e.startsWith("..")||e.startsWith("./..")}function g(e){return e.endsWith("/**")}function m(e){const t=r.braces(e,{expand:!0,nodupes:!0,keepEscaping:!0});return t.sort(((e,t)=>e.length-t.length)),t.filter((e=>""!==e))}function y(e,t){return r.makeRe(e,t)}e.isStaticPattern=u,e.isDynamicPattern=d,e.convertToPositivePattern=function(e){return p(e)?e.slice(1):e},e.convertToNegativePattern=function(e){return"!"+e},e.isNegativePattern=p,e.isPositivePattern=f,e.getNegativePatterns=function(e){return e.filter(p)},e.getPositivePatterns=function(e){return e.filter(f)},e.getPatternsInsideCurrentDirectory=function(e){return e.filter((e=>!h(e)))},e.getPatternsOutsideCurrentDirectory=function(e){return e.filter(h)},e.isPatternRelatedToParentDirectory=h,e.getBaseDirectory=function(e){return n(e,{flipBackslashes:!1})},e.hasGlobStar=function(e){return e.includes("**")},e.endsWithSlashGlobStar=g,e.isAffectDepthOfReadingPattern=function(e){const n=t.basename(e);return g(e)||u(n)},e.expandPatternsWithBraceExpansion=function(e){return e.reduce(((e,t)=>e.concat(m(t))),[])},e.expandBraceExpansion=m,e.getPatternParts=function(e,t){let{parts:n}=r.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===n.length&&(n=[e]),n[0].startsWith("/")&&(n[0]=n[0].slice(1),n.unshift("")),n},e.makeRe=y,e.convertPatternsToRe=function(e,t){return e.map((e=>y(e,t)))},e.matchAny=function(e,t){return t.some((t=>t.test(e)))},e.removeDuplicateSlashes=function(e){return e.replace(c,"/")}}}),de=N({"../../node_modules/.pnpm/merge2@1.4.1/node_modules/merge2/index.js"(e,t){var n=F("stream").PassThrough,r=Array.prototype.slice;function i(e,t){if(Array.isArray(e))for(let n=0,r=e.length;n<r;n++)e[n]=i(e[n],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(n(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}t.exports=function(){const e=[],t=r.call(arguments);let s=!1,o=t[t.length-1];o&&!Array.isArray(o)&&null==o.pipe?t.pop():o={};const a=!1!==o.end,l=!0===o.pipeError;null==o.objectMode&&(o.objectMode=!0);null==o.highWaterMark&&(o.highWaterMark=65536);const c=n(o);function u(){for(let t=0,n=arguments.length;t<n;t++)e.push(i(arguments[t],o));return d(),this}function d(){if(s)return;s=!0;let t=e.shift();if(!t)return void process.nextTick(p);Array.isArray(t)||(t=[t]);let n=t.length+1;function r(){--n>0||(s=!1,d())}function i(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),l&&e.removeListener("error",n),r()}function n(e){c.emit("error",e)}if(e._readableState.endEmitted)return r();e.on("merge2UnpipeEnd",t),e.on("end",t),l&&e.on("error",n),e.pipe(c,{end:!1}),e.resume()}for(let e=0;e<t.length;e++)i(t[e]);r()}function p(){s=!1,c.emit("queueDrain"),a&&c.end()}c.setMaxListeners(0),c.add=u,c.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),t.length&&u.apply(null,t);return c}}}),pe=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/stream.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var t=de();function n(e){e.forEach((e=>e.emit("close")))}e.merge=function(e){const r=t(e);return e.forEach((e=>{e.once("error",(e=>r.emit("error",e)))})),r.once("close",(()=>n(e))),r.once("end",(()=>n(e))),r}}}),fe=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/string.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=e.isString=void 0,e.isString=function(e){return"string"==typeof e},e.isEmpty=function(e){return""===e}}}),he=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/utils/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.string=e.stream=e.pattern=e.path=e.fs=e.errno=e.array=void 0;var t=D();e.array=t;var n=B();e.errno=n;var r=U();e.fs=r;var i=G();e.path=i;var s=ue();e.pattern=s;var o=pe();e.stream=o;var a=fe();e.string=a}}),ge=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/managers/tasks.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertPatternGroupToTask=e.convertPatternGroupsToTasks=e.groupPatternsByBaseDirectory=e.getNegativePatternsAsPositive=e.getPositivePatterns=e.convertPatternsToTasks=e.generate=void 0;var t=he();function n(e,n){let r=e;return n.braceExpansion&&(r=t.pattern.expandPatternsWithBraceExpansion(r)),n.baseNameMatch&&(r=r.map((e=>e.includes("/")?e:`**/${e}`))),r.map((e=>t.pattern.removeDuplicateSlashes(e)))}function r(e,n,r){const i=[],s=t.pattern.getPatternsOutsideCurrentDirectory(e),c=t.pattern.getPatternsInsideCurrentDirectory(e),u=o(s),d=o(c);return i.push(...a(u,n,r)),"."in d?i.push(l(".",c,n,r)):i.push(...a(d,n,r)),i}function i(e){return t.pattern.getPositivePatterns(e)}function s(e,n){return t.pattern.getNegativePatterns(e).concat(n).map(t.pattern.convertToPositivePattern)}function o(e){return e.reduce(((e,n)=>{const r=t.pattern.getBaseDirectory(n);return r in e?e[r].push(n):e[r]=[n],e}),{})}function a(e,t,n){return Object.keys(e).map((r=>l(r,e[r],t,n)))}function l(e,n,r,i){return{dynamic:i,positive:n,negative:r,base:e,patterns:[].concat(n,r.map(t.pattern.convertToNegativePattern))}}e.generate=function(e,o){const a=n(e,o),l=n(o.ignore,o),c=i(a),u=s(a,l),d=c.filter((e=>t.pattern.isStaticPattern(e,o))),p=c.filter((e=>t.pattern.isDynamicPattern(e,o))),f=r(d,u,!1),h=r(p,u,!0);return f.concat(h)},e.convertPatternsToTasks=r,e.getPositivePatterns=i,e.getNegativePatternsAsPositive=s,e.groupPatternsByBaseDirectory=o,e.convertPatternGroupsToTasks=a,e.convertPatternGroupToTask=l}}),me=N({"../../node_modules/.pnpm/@nodelib+fs.stat@2.0.5/node_modules/@nodelib/fs.stat/out/providers/async.js"(e){function t(e,t){e(t)}function n(e,t){e(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(e,r,i){r.fs.lstat(e,((s,o)=>{null===s?o.isSymbolicLink()&&r.followSymbolicLink?r.fs.stat(e,((e,s)=>{if(null!==e)return r.throwErrorOnBrokenSymbolicLink?void t(i,e):void n(i,o);r.markSymbolicLink&&(s.isSymbolicLink=()=>!0),n(i,s)})):n(i,o):t(i,s)}))}}}),ye=N({"../../node_modules/.pnpm/@nodelib+fs.stat@2.0.5/node_modules/@nodelib/fs.stat/out/providers/sync.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(e,t){const n=t.fs.lstatSync(e);if(!n.isSymbolicLink()||!t.followSymbolicLink)return n;try{const n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return n;throw e}}}}),_e=N({"../../node_modules/.pnpm/@nodelib+fs.stat@2.0.5/node_modules/@nodelib/fs.stat/out/adapters/fs.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;var t=F("fs");e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}}}),be=N({"../../node_modules/.pnpm/@nodelib+fs.stat@2.0.5/node_modules/@nodelib/fs.stat/out/settings.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=_e();e.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=t.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return null!=e?e:t}}}}),ve=N({"../../node_modules/.pnpm/@nodelib+fs.stat@2.0.5/node_modules/@nodelib/fs.stat/out/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.statSync=e.stat=e.Settings=void 0;var t=me(),n=ye(),r=be();function i(e={}){return e instanceof r.default?e:new r.default(e)}e.Settings=r.default,e.stat=function(e,n,r){"function"!=typeof n?t.read(e,i(n),r):t.read(e,i(),n)},e.statSync=function(e,t){const r=i(t);return n.read(e,r)}}}),Ee=N({"../../node_modules/.pnpm/queue-microtask@1.2.3/node_modules/queue-microtask/index.js"(e,t){var n;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:global):e=>(n||(n=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))}}),Se=N({"../../node_modules/.pnpm/run-parallel@1.2.0/node_modules/run-parallel/index.js"(e,t){t.exports=function(e,t){let r,i,s,o=!0;Array.isArray(e)?(r=[],i=e.length):(s=Object.keys(e),r={},i=s.length);function a(e){function i(){t&&t(e,r),t=null}o?n(i):i()}function l(e,t,n){r[e]=n,(0==--i||t)&&a(t)}i?s?s.forEach((function(t){e[t]((function(e,n){l(t,e,n)}))})):e.forEach((function(e,t){e((function(e,n){l(t,e,n)}))})):a(null);o=!1};var n=Ee()}}),xe=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/constants.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var t=process.versions.node.split(".");if(void 0===t[0]||void 0===t[1])throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var n=Number.parseInt(t[0],10),r=Number.parseInt(t[1],10),i=n>10,s=10===n&&r>=10;e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=i||s}}),we=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/utils/fs.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;var t=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};e.createDirentFromStats=function(e,n){return new t(e,n)}}}),Ae=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/utils/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fs=void 0;var t=we();e.fs=t}}),ke=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/providers/common.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=void 0,e.joinPathSegments=function(e,t,n){return e.endsWith(n)?e+t:e+n+t}}}),Re=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/providers/async.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;var t=ve(),n=Se(),r=xe(),i=Ae(),s=ke();function o(e,t,r){t.fs.readdir(e,{withFileTypes:!0},((o,a)=>{if(null!==o)return void l(r,o);const u=a.map((n=>({dirent:n,name:n.name,path:s.joinPathSegments(e,n.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks)return void c(r,u);const d=u.map((e=>function(e,t){return n=>{e.dirent.isSymbolicLink()?t.fs.stat(e.path,((r,s)=>{if(null!==r)return t.throwErrorOnBrokenSymbolicLink?void n(r):void n(null,e);e.dirent=i.fs.createDirentFromStats(e.name,s),n(null,e)})):n(null,e)}}(e,t)));n(d,((e,t)=>{null===e?c(r,t):l(r,e)}))}))}function a(e,r,o){r.fs.readdir(e,((a,u)=>{if(null!==a)return void l(o,a);const d=u.map((n=>{const o=s.joinPathSegments(e,n,r.pathSegmentSeparator);return e=>{t.stat(o,r.fsStatSettings,((t,s)=>{if(null!==t)return void e(t);const a={name:n,path:o,dirent:i.fs.createDirentFromStats(n,s)};r.stats&&(a.stats=s),e(null,a)}))}}));n(d,((e,t)=>{null===e?c(o,t):l(o,e)}))}))}function l(e,t){e(t)}function c(e,t){e(null,t)}e.read=function(e,t,n){t.stats||!r.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(e,t,n):o(e,t,n)},e.readdirWithFileTypes=o,e.readdir=a}}),Pe=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/providers/sync.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;var t=ve(),n=xe(),r=Ae(),i=ke();function s(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map((n=>{const s={dirent:n,name:n.name,path:i.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(s.path);s.dirent=r.fs.createDirentFromStats(s.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return s}))}function o(e,n){return n.fs.readdirSync(e).map((s=>{const o=i.joinPathSegments(e,s,n.pathSegmentSeparator),a=t.statSync(o,n.fsStatSettings),l={name:s,path:o,dirent:r.fs.createDirentFromStats(s,a)};return n.stats&&(l.stats=a),l}))}e.read=function(e,t){return!t.stats&&n.IS_SUPPORT_READDIR_WITH_FILE_TYPES?s(e,t):o(e,t)},e.readdirWithFileTypes=s,e.readdir=o}}),Ce=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/adapters/fs.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;var t=F("fs");e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}}}),Oe=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/settings.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("path"),n=ve(),r=Ce();e.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=r.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,t.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new n.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}}}}),Te=N({"../../node_modules/.pnpm/@nodelib+fs.scandir@2.1.5/node_modules/@nodelib/fs.scandir/out/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.scandirSync=e.scandir=void 0;var t=Re(),n=Pe(),r=Oe();function i(e={}){return e instanceof r.default?e:new r.default(e)}e.Settings=r.default,e.scandir=function(e,n,r){"function"!=typeof n?t.read(e,i(n),r):t.read(e,i(),n)},e.scandirSync=function(e,t){const r=i(t);return n.read(e,r)}}}),$e=N({"../../node_modules/.pnpm/reusify@1.0.4/node_modules/reusify/reusify.js"(e,t){t.exports=function(e){var t=new e,n=t;return{get:function(){var r=t;return r.next?t=r.next:(t=new e,n=t),r.next=null,r},release:function(e){n.next=e,n=e}}}}}),Le=N({"../../node_modules/.pnpm/fastq@1.17.1/node_modules/fastq/queue.js"(e,t){var n=$e();function r(e,t,r){if("function"==typeof e&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var o=n(s),a=null,l=null,c=0,u=null,d={push:function(n,s){var f=o.get();f.context=e,f.release=p,f.value=n,f.callback=s||i,f.errorHandler=u,c>=r||d.paused?l?(l.next=f,l=f):(a=f,l=f,d.saturated()):(c++,t.call(e,f.value,f.worked))},drain:i,saturated:i,pause:function(){d.paused=!0},paused:!1,get concurrency(){return r},set concurrency(e){if(!(e>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=e,!d.paused)for(;a&&c<r;)c++,p()},running:function(){return c},resume:function(){if(!d.paused)return;if(d.paused=!1,null===a)return c++,void p();for(;a&&c<r;)c++,p()},idle:function(){return 0===c&&0===d.length()},length:function(){var e=a,t=0;for(;e;)e=e.next,t++;return t},getQueue:function(){var e=a,t=[];for(;e;)t.push(e.value),e=e.next;return t},unshift:function(n,s){var f=o.get();f.context=e,f.release=p,f.value=n,f.callback=s||i,f.errorHandler=u,c>=r||d.paused?a?(f.next=a,a=f):(a=f,l=f,d.saturated()):(c++,t.call(e,f.value,f.worked))},empty:i,kill:function(){a=null,l=null,d.drain=i},killAndDrain:function(){a=null,l=null,d.drain(),d.drain=i},error:function(e){u=e}};return d;function p(n){n&&o.release(n);var i=a;i&&c<=r?d.paused?c--:(l===a&&(l=null),a=i.next,i.next=null,t.call(e,i.value,i.worked),null===l&&d.empty()):0==--c&&d.drain()}}function i(){}function s(){this.value=null,this.callback=i,this.next=null,this.release=i,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,n){var r=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=i,e.errorHandler&&s(t,o),r.call(e.context,t,n),e.release(e)}}t.exports=r,t.exports.promise=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null);var s=r(e,(function(e,n){t.call(this,e).then((function(e){n(null,e)}),n)}),n),o=s.push,a=s.unshift;return s.push=function(e){var t=new Promise((function(t,n){o(e,(function(e,r){e?n(e):t(r)}))}));return t.catch(i),t},s.unshift=function(e){var t=new Promise((function(t,n){a(e,(function(e,r){e?n(e):t(r)}))}));return t.catch(i),t},s.drained=function(){if(s.idle())return new Promise((function(e){e()}));var e=s.drain;return new Promise((function(t){s.drain=function(){e(),t()}}))},s}}}),je=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/readers/common.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=e.replacePathSegmentSeparator=e.isAppliedFilter=e.isFatalError=void 0,e.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},e.isAppliedFilter=function(e,t){return null===e||e(t)},e.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},e.joinPathSegments=function(e,t,n){return""===e?t:e.endsWith(n)?e+t:e+n+t}}}),Me=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/readers/reader.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=je();e.default=class{constructor(e,n){this._root=e,this._settings=n,this._root=t.replacePathSegmentSeparator(e,n.pathSegmentSeparator)}}}}),Fe=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/readers/async.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("events"),n=Te(),r=Le(),i=je(),s=Me(),o=class extends s.default{constructor(e,i){super(e,i),this._settings=i,this._scandir=n.scandir,this._emitter=new t.EventEmitter,this._queue=r(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const n={directory:e,base:t};this._queue.push(n,(e=>{null!==e&&this._handleError(e)}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((n,r)=>{if(null===n){for(const t of r)this._handleEntry(t,e.base);t(null,void 0)}else t(n,void 0)}))}_handleError(e){!this._isDestroyed&&i.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const n=e.path;void 0!==t&&(e.path=i.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),i.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&i.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,void 0===t?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};e.default=o}}),Ne=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/providers/async.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Fe();e.default=class{constructor(e,n){this._root=e,this._settings=n,this._reader=new t.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError((t=>{!function(e,t){e(t)}(e,t)})),this._reader.onEntry((e=>{this._storage.push(e)})),this._reader.onEnd((()=>{!function(e,t){e(null,t)}(e,this._storage)})),this._reader.read()}}}}),Ie=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/providers/stream.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("stream"),n=Fe();e.default=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new n.default(this._root,this._settings),this._stream=new t.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((e=>{this._stream.emit("error",e)})),this._reader.onEntry((e=>{this._stream.push(e)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}}}}),He=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/readers/sync.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Te(),n=je(),r=Me(),i=class extends r.default{constructor(){super(...arguments),this._scandir=t.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const n=this._scandir(e,this._settings.fsScandirSettings);for(const e of n)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(n.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const r=e.path;void 0!==t&&(e.path=n.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),n.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&n.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};e.default=i}}),De=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/providers/sync.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=He();e.default=class{constructor(e,n){this._root=e,this._settings=n,this._reader=new t.default(this._root,this._settings)}read(){return this._reader.read()}}}}),Be=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/settings.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("path"),n=Te();e.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,t.sep),this.fsScandirSettings=new n.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}}}}),Ue=N({"../../node_modules/.pnpm/@nodelib+fs.walk@1.2.8/node_modules/@nodelib/fs.walk/out/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.walkStream=e.walkSync=e.walk=void 0;var t=Ne(),n=Ie(),r=De(),i=Be();function s(e={}){return e instanceof i.default?e:new i.default(e)}e.Settings=i.default,e.walk=function(e,n,r){"function"!=typeof n?new t.default(e,s(n)).read(r):new t.default(e,s()).read(n)},e.walkSync=function(e,t){const n=s(t);return new r.default(e,n).read()},e.walkStream=function(e,t){const r=s(t);return new n.default(e,r).read()}}}),Ge=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/readers/reader.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("path"),n=ve(),r=he();e.default=class{constructor(e){this._settings=e,this._fsStatSettings=new n.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return t.resolve(this._settings.cwd,e)}_makeEntry(e,t){const n={name:t,path:t,dirent:r.fs.createDirentFromStats(t,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!r.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}}}),qe=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/readers/stream.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("stream"),n=ve(),r=Ue(),i=Ge(),s=class extends i.default{constructor(){super(...arguments),this._walkStream=r.walkStream,this._stat=n.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,n){const r=e.map(this._getFullEntryPath,this),i=new t.PassThrough({objectMode:!0});i._write=(t,s,o)=>this._getEntry(r[t],e[t],n).then((e=>{null!==e&&n.entryFilter(e)&&i.push(e),t===r.length-1&&i.end(),o()})).catch(o);for(let e=0;e<r.length;e++)i.write(e);return i}_getEntry(e,t,n){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(n.errorFilter(e))return null;throw e}))}_getStat(e){return new Promise(((t,n)=>{this._stat(e,this._fsStatSettings,((e,r)=>null===e?t(r):n(e)))}))}};e.default=s}}),We=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/readers/async.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ue(),n=Ge(),r=qe(),i=class extends n.default{constructor(){super(...arguments),this._walkAsync=t.walk,this._readerStream=new r.default(this._settings)}dynamic(e,t){return new Promise(((n,r)=>{this._walkAsync(e,t,((e,t)=>{null===e?n(t):r(e)}))}))}async static(e,t){const n=[],r=this._readerStream.static(e,t);return new Promise(((e,t)=>{r.once("error",t),r.on("data",(e=>n.push(e))),r.once("end",(()=>e(n)))}))}};e.default=i}}),ze=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/matchers/matcher.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=he();e.default=class{constructor(e,t,n){this._patterns=e,this._settings=t,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(const e of this._patterns){const t=this._getPatternSegments(e),n=this._splitSegmentsIntoSections(t);this._storage.push({complete:n.length<=1,pattern:e,segments:t,sections:n})}}_getPatternSegments(e){return t.pattern.getPatternParts(e,this._micromatchOptions).map((e=>t.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:t.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}))}_splitSegmentsIntoSections(e){return t.array.splitWhen(e,(e=>e.dynamic&&t.pattern.hasGlobStar(e.pattern)))}}}}),Ve=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/matchers/partial.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ze(),n=class extends t.default{match(e){const t=e.split("/"),n=t.length,r=this._storage.filter((e=>!e.complete||e.segments.length>n));for(const e of r){const r=e.sections[0];if(!e.complete&&n>r.length)return!0;if(t.every(((t,n)=>{const r=e.segments[n];return!(!r.dynamic||!r.patternRe.test(t))||!r.dynamic&&r.pattern===t})))return!0}return!1}};e.default=n}}),Ke=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/filters/deep.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=he(),n=Ve();e.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,n){const r=this._getMatcher(t),i=this._getNegativePatternsRe(n);return t=>this._filter(e,t,r,i)}_getMatcher(e){return new n.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const n=e.filter(t.pattern.isAffectDepthOfReadingPattern);return t.pattern.convertPatternsToRe(n,this._micromatchOptions)}_filter(e,n,r,i){if(this._isSkippedByDeep(e,n.path))return!1;if(this._isSkippedSymbolicLink(n))return!1;const s=t.path.removeLeadingDotSegment(n.path);return!this._isSkippedByPositivePatterns(s,r)&&this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const n=t.split("/").length;if(""===e)return n;return n-e.split("/").length}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,n){return!t.pattern.matchAny(e,n)}}}}),Qe=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/filters/entry.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=he();e.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,n){const r=t.pattern.convertPatternsToRe(e,this._micromatchOptions),i=t.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return e=>this._filter(e,r,i)}_filter(e,n,r){const i=t.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(i))return!1;if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(i,r))return!1;const s=e.dirent.isDirectory(),o=this._isMatchToPatterns(i,n,s)&&!this._isMatchToPatterns(i,r,s);return this._settings.unique&&o&&this._createIndexRecord(i),o}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,n){if(!this._settings.absolute)return!1;const r=t.path.makeAbsolute(this._settings.cwd,e);return t.pattern.matchAny(r,n)}_isMatchToPatterns(e,n,r){const i=t.pattern.matchAny(e,n);return!i&&r?t.pattern.matchAny(e+"/",n):i}}}}),Ye=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/filters/error.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=he();e.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return t.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}}}),Xe=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/transformers/entry.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=he();e.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let n=e.path;return this._settings.absolute&&(n=t.path.makeAbsolute(this._settings.cwd,n),n=t.path.unixify(n)),this._settings.markDirectories&&e.dirent.isDirectory()&&(n+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:n}):n}}}}),Je=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/provider.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("path"),n=Ke(),r=Qe(),i=Ye(),s=Xe();e.default=class{constructor(e){this._settings=e,this.errorFilter=new i.default(this._settings),this.entryFilter=new r.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new n.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new s.default(this._settings)}_getRootDirectory(e){return t.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}}}),Ze=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/async.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=We(),n=Je(),r=class extends n.default{constructor(){super(...arguments),this._reader=new t.default(this._settings)}async read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e);return(await this.api(t,e,n)).map((e=>n.transform(e)))}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}};e.default=r}}),et=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/stream.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F("stream"),n=qe(),r=Je(),i=class extends r.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(e){const n=this._getRootDirectory(e),r=this._getReaderOptions(e),i=this.api(n,e,r),s=new t.Readable({objectMode:!0,read:()=>{}});return i.once("error",(e=>s.emit("error",e))).on("data",(e=>s.emit("data",r.transform(e)))).once("end",(()=>s.emit("end"))),s.once("close",(()=>i.destroy())),s}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}};e.default=i}}),tt=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/readers/sync.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ve(),n=Ue(),r=Ge(),i=class extends r.default{constructor(){super(...arguments),this._walkSync=n.walkSync,this._statSync=t.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const n=[];for(const r of e){const e=this._getFullEntryPath(r),i=this._getEntry(e,r,t);null!==i&&t.entryFilter(i)&&n.push(i)}return n}_getEntry(e,t,n){try{const n=this._getStat(e);return this._makeEntry(n,t)}catch(e){if(n.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};e.default=i}}),nt=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/providers/sync.js"(e){Object.defineProperty(e,"__esModule",{value:!0});var t=tt(),n=Je(),r=class extends n.default{constructor(){super(...arguments),this._reader=new t.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(t,e,n).map(n.transform)}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}};e.default=r}}),rt=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/settings.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var t=F("fs"),n=F("os"),r=Math.max(n.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:t.lstat,lstatSync:t.lstatSync,stat:t.stat,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync};e.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,r),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}}}),it=N({"../../node_modules/.pnpm/fast-glob@3.3.2/node_modules/fast-glob/out/index.js"(e,t){var n=ge(),r=Ze(),i=et(),s=nt(),o=rt(),a=he();async function l(e,t){u(e);const n=c(e,r.default,t),i=await Promise.all(n);return a.array.flatten(i)}function c(e,t,r){const i=[].concat(e),s=new o.default(r),a=n.generate(i,s),l=new t(s);return a.map(l.read,l)}function u(e){if(![].concat(e).every((e=>a.string.isString(e)&&!a.string.isEmpty(e))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){function t(e,t){u(e);const n=c(e,s.default,t);return a.array.flatten(n)}function r(e,t){u(e);const n=c(e,i.default,t);return a.stream.merge(n)}var l,d;e.glob=e,e.globSync=t,e.globStream=r,e.async=e,e.sync=t,e.stream=r,e.generateTasks=function(e,t){u(e);const r=[].concat(e),i=new o.default(t);return n.generate(r,i)},e.isDynamicPattern=function(e,t){u(e);const n=new o.default(t);return a.pattern.isDynamicPattern(e,n)},e.escapePath=function(e){return u(e),a.path.escape(e)},e.convertPathToPattern=function(e){return u(e),a.path.convertPathToPattern(e)},(l=e.posix||(e.posix={})).escapePath=function(e){return u(e),a.path.escapePosixPath(e)},l.convertPathToPattern=function(e){return u(e),a.path.convertPosixPathToPattern(e)},(d=e.win32||(e.win32={})).escapePath=function(e){return u(e),a.path.escapeWindowsPath(e)},d.convertPathToPattern=function(e){return u(e),a.path.convertWindowsPathToPattern(e)}}(l||(l={})),t.exports=l}}),st=128;var ot,at={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49],blackStylize:["#121212","#eeeeee18"],redStylize:["#cb7676","#ab5959"],greenStylize:["#4d9375","#1e754f"],yellowStylize:["#f6c177","#f6c17790"],blueStylize:["#6394bf","#296aa3"],magentaStylize:["#c391e6","#c391e690"],pinkStylize:["#ed9cc2","#ed9cc290"],cyanStylize:["#5eaab5","#2993a3"],whiteStylize:["#ffffff","#ffffff9f"],grayStylize:["#888888","#444444"]},lt=s.WriteStream.prototype.hasColors(),ct=(e,t)=>{if(!lt)return e=>e;const n=`[${e}m`,r=`[${t}m`;return e=>{const t=`${e}`;let i=t.indexOf(r);if(-1===i)return n+t+r;let s=n,o=0;for(;-1!==i;)s+=t.slice(o,i)+n,o=i+r.length,i=t.indexOf(r,o);return s+=t.slice(o)+r,s}},ut=(ot=(e,t,n)=>ct(`38;2;${e};${t};${n}`,39),e=>{const[t,n,r]=(e=>{let[,t]=/([\da-f]{3,6})/i.exec(e)||[];const n=t?t.length:0;if(3===n)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!==n)return[0,0,0];const r=Number.parseInt(t,16);return[r>>16&255,r>>8&255,255&r]})(e);return ot(t,n,r)}),dt=ct(...at.bold),pt=ct(...at.dim),ft=ct(...at.underline);ut(at.blackStylize[0]),ut(at.blackStylize[1]);var ht=ut(at.redStylize[0]);ut(at.redStylize[1]);var gt=ut(at.greenStylize[0]);ut(at.greenStylize[1]);var mt=ut(at.yellowStylize[0]);ut(at.yellowStylize[1]),ut(at.blueStylize[0]),ut(at.blueStylize[1]);var yt=ut(at.magentaStylize[0]);ut(at.magentaStylize[1]);var _t=ut(at.pinkStylize[0]);ut(at.pinkStylize[1]);var bt=ut(at.cyanStylize[0]);ut(at.cyanStylize[1]),ut(at.whiteStylize[0]);var vt=ut(at.whiteStylize[1]),Et=ut(at.grayStylize[0]);ut(at.grayStylize[1]);function St(e,t,n,r=1){const i=R.diffWords(e,t);let s="";i.forEach(((e,t)=>{const n=t>0&&(i[t-1]?.added||i[t-1]?.removed),o=t<i.length-1&&(i[t+1]?.added||i[t+1]?.removed);let a="";if(e.added)a=gt(dt(e.value));else if(e.removed)a=ht(e.value);else if(n&&o){const t=e.value.split("\n");a=t.length-1>2*r?[t.slice(0,r).join("\n"),"...",t.slice(-r-1).join("\n")].join("\n"):pt(e.value)}else n?a=e.value.split("\n").slice(0,r+1).join("\n"):o&&(a=e.value.split("\n").slice(-r-1).join("\n"));s+=a})),x.note(s,`Take a look at changes in ${bt(n)}`)}var xt=k.default.promisify(l.exec),wt=(e,t)=>e instanceof Error?t.error(e):t.unknown(e),At=(e,t)=>{try{let n=!1;const r=((e,t)=>{let n;return new Promise(((r,i)=>{e.then((e=>{n&&clearTimeout(n),r(e)})).catch((()=>{i(new Error)})),n=setTimeout((()=>{i(new Error)}),t)}))})(e,t).catch((()=>{n=!0}));if(n)return;return r}catch(e){return}},kt=[{label:"Visual Studio Code",value:"code"},{label:"Visual Studio Code Insiders",value:"code-insiders"},{label:"Cursor",value:"cursor"}],Rt=e=>new Nn({message:"Please install vscode's `code` CLI before continuing",context:{error:e}}),Pt=async()=>{if("Cursor"===Xn.IDE_NAME){const e=await fetch("https://marketplace.visualstudio.com/_apis/public/gallery/extensionquery",{method:"POST",body:JSON.stringify({filters:[{criteria:[{filterType:4,value:"c76878d7-9496-4200-bf09-b930e13c3f07"},{filterType:8,value:"Microsoft.VisualStudio.Code"},{filterType:12,value:"4096"}],pageNumber:1,pageSize:1,sortBy:0,sortOrder:0}],assetTypes:[],flags:950}),headers:{accept:"application/json;api-version=3.0-preview.1","Content-Type":"application/json"}}).then((e=>e.json())),t=e.results?.[0],n=t?.extensions?.[0],r=n?.versions?.[0]?.version;if(!r)return Kn({event:"wizard-extension-install-failed",message:"Failed to get extension version"}),!1;const i=await fetch(`https://marketplace.visualstudio.com/_apis/public/gallery/publishers/million/vsextensions/million-lint/${r}/vspackage`).then((e=>e.arrayBuffer())).then((e=>Buffer.from(e))),s=E.default.join(process.cwd(),`million-lint-${r}.vsix`);await w.default.writeFile(s,i);const o=await At(xt(`${Xn.CLI_COMMAND} --install-extension ${s} --force`),2e4);if(o?.stderr)return Kn({event:"wizard-extension-install-failed",message:o?.stderr||o?.stdout||"unknown"}),!1;const a=e=>Boolean(e?.stdout)&&!e.stdout.toLowerCase().includes("failed");return await w.default.unlink(s),a(o)}const e=await At(xt(`${Xn.CLI_COMMAND} --install-extension million.million-lint --force`),2e4);if(e?.stderr)return Kn({event:"wizard-extension-install-failed",message:e?.stderr||e?.stdout||"unknown"}),!1;return t=e,Boolean(t?.stdout)&&!t.stdout.toLowerCase().includes("failed");var t},Ct=i.Effect.gen((function*(){const e=x.spinner(),t=yield*i.Effect.all(kt.map((e=>i.Effect.promise((()=>(async e=>{try{const t=await At(xt(`${e.value} -v`),3e3);if(t.stderr)return Kn({event:"wizard-command-check-failed",message:t.stderr}),null;if(t?.stdout)return e}catch{}return null})(e)))))).pipe(i.Effect.map((e=>e.filter((e=>!!e)))));t.length||(yield*new Nn({message:"No available editor CLI commands. Please install `code` or `cursor` cli helper for automatic installation. You can also install the extension manually via extensions marketplace."}));const n=yield*(e=>i.Effect.gen((function*(){return 1===e.length?((yield*i.Effect.tryPromise((()=>x.confirm({message:`Do you want to use Million Lint in ${e[0].label}?`}))).pipe(Yn("confirm-ide")))||(yield*new Nn({message:"No other editors compatible with Million Lint found.",fixHint:yield*(t=e[0],i.Effect.gen((function*(){switch(t.value){case"code":return"For automatic installation of Million Lint into cursor, please install the `cursor` cli helper";case"cursor":return"For automatic installation of Million Lint into vscode, please install the `code` cli helper"}yield*i.Effect.dieMessage("Only VSCode and Cursor are supported")})))})),e[0].value):yield*i.Effect.tryPromise((()=>x.select({message:"Which editor will you be using Million Lint in:",options:e.map((e=>e?{label:e.label,value:e.value}:null)).filter(Boolean)}))).pipe(Yn("which-ide-stage"));var t})))(t).pipe(i.Effect.flatMap((e=>"string"==typeof e?i.Effect.succeed(e):i.Effect.dieMessage("command should always be a string")))),r=kt.find((e=>e.value===n))?.label;if(!r)return yield*i.Effect.dieMessage("commands.find should always return a real value");e.start("Checking if Million Lint is installed"),Xn.CLI_COMMAND=n,Xn.IDE_NAME=r,Xn.IDE_VERSION=yield*(e=>i.Effect.tryPromise({try:()=>xt(`${e} --version`),catch:Rt}).pipe(i.Effect.timeout("3 seconds"),i.Effect.map((({stdout:e})=>e.split("\n")[0]))))(n);const s=yield*(e=>i.Effect.tryPromise({try:()=>xt(`${e} --list-extensions --show-versions`),catch:Rt}).pipe(i.Effect.timeout("3 seconds"),i.Effect.map((({stdout:e})=>{const t=e.split("\n");if(t)for(const e of t)if(e.includes("million.million-lint"))return Xn.MILLION_VERSION=e,!0;return!1}))))(n);if(!s){if(yield*i.Effect.tryPromise(Pt).pipe(i.Effect.catchAll((()=>i.Effect.succeed(!1)))))e.stop(`Installed ${r} extension`);else{e.stop(mt("⚠️ Failed to install extension. Try install via the marketplace: https://marketplace.visualstudio.com/items?itemName=million.million-lint"));(yield*i.Effect.tryPromise((()=>x.confirm({message:"Would you like to continue with setup?",initialValue:!0}))).pipe(Yn("would-you-like-to-continue-with-setup")))||(yield*new Mn({logMessage:"Could not install extension"}))}return}e.stop("Extension found");if(!(yield*i.Effect.tryPromise((()=>x.confirm({message:"Would you like to update the Million Lint extension?",initialValue:!0}))).pipe(Yn("should-install-extension"))))return;const o=x.spinner();o.start();if(yield*i.Effect.tryPromise(Pt).pipe(i.Effect.catchAll((e=>(Kn({type:"error",event:"wizard-update-extension",properties:{error:e}}),i.Effect.succeed(!1))))))return void o.stop("Extension updated");o.stop(mt("⚠️ Failed to update extension. Try updating via the marketplace: https://marketplace.visualstudio.com/items?itemName=million.million-lint"));(yield*i.Effect.tryPromise((()=>x.confirm({message:"Would you like to continue with setup?",initialValue:!0}))).pipe(Yn("would-you-like-to-use-older-version-anyways")))||(yield*new Mn({logMessage:"User did not want to continue after failing to update extension"}))})),Ot=I(H()),Tt=I(it()),$t=class{value;next;constructor(e){this.value=e}},Lt=class{#e;#t;#n;constructor(){this.clear()}enqueue(e){const t=new $t(e);this.#e?(this.#t.next=t,this.#t=t):(this.#e=t,this.#t=t),this.#n++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#n--,e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}};function jt(e){if(!Number.isInteger(e)&&e!==Number.POSITIVE_INFINITY||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}var Mt={name:"yarn",label:"yarn",lockFile:"yarn.lock",installCommand:"yarn add",dlxCommand:"npx"},Ft={name:"pnpm",label:"pnpm",lockFile:"pnpm-lock.yaml",installCommand:"pnpm install",dlxCommand:"pnpx"},Nt={name:"npm",label:"npm",lockFile:"package-lock.json",installCommand:"npm install",dlxCommand:"npx"},It={name:"bun",label:"bun",lockFile:"bun.lockb",installCommand:"bun add",dlxCommand:"bunx"},Ht=[Ft,Mt,It,Nt],Dt={name:"craco",label:"Create React App",bundler:"webpack",prefix:"MillionLint.craco",configFilePath:"craco.config.js",possibleFileNames:["craco.config.js","craco.config.mjs","craco.config.cjs","craco.config.ts"],millionLint:{configFileContent:"const MillionLint = require('@million/lint').default;\nmodule.exports = {\n  plugins: [MillionLint.craco()],\n};"}},Bt=[{name:"next",label:"Next.js",bundler:"next",prefix:"MillionLint.next",configFilePath:"next.config.mjs",possibleFileNames:["next.config.js","next.config.mjs","next.config.cjs","next.config.ts"],millionLint:{configFileContent:"import MillionLint from '@million/lint';\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n};\n\nexport default MillionLint.next()(nextConfig);",configFileContentRSC:"import MillionLint from '@million/lint';\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n};\n\nexport default MillionLint.next({ rsc: true })(nextConfig);"}},{name:"astro",label:"Astro",bundler:"vite",prefix:"MillionLint.vite",configFilePath:"astro.config.mjs",possibleFileNames:["astro.config.js","astro.config.mjs","astro.config.cjs","astro.config.ts"],millionLint:{configFileContent:"import { defineConfig } from 'astro/config';\nimport MillionLint from '@million/lint';\n\nexport default defineConfig({\n  integrations: [MillionLint.astro()]\n});"}},{name:"gatsby",label:"Gatsby",bundler:"webpack",prefix:"MillionLint.webpack",configFilePath:"gatsby-node.js",possibleFileNames:["gatsby-node.js","gatsby-node.ts","gatsby-config.js","gatsby-config.ts"],millionLint:{configFileContent:"const MillionLint = require('@million/lint').default;\n\nexports.onCreateWebpackConfig = ({ actions }) => {\n  actions.setWebpackConfig({\n    plugins: [MillionLint.webpack()],\n  })\n};"}},{name:"vite",label:"Vite",bundler:"vite",prefix:"MillionLint.vite",configFilePath:"vite.config.js",possibleFileNames:["vite.config.js","vite.config.mjs","vite.config.mts","vite.config.cjs","vite.config.ts"],millionLint:{configFileContent:"import MillionLint from '@million/lint';\nimport react from \"@vitejs/plugin-react\";\nimport { defineConfig } from 'vite';\n\nexport default defineConfig({\n  plugins: [MillionLint.vite(), react()],\n});"}},Dt,{name:"webpack",label:"Webpack",bundler:"webpack",prefix:"MillionLint.webpack",configFilePath:"webpack.config.js",possibleFileNames:["webpack.config.js","webpack.config.cjs","webpack.config.mjs","webpack.config.ts"],millionLint:{configFileContent:"const MillionLint = require('@million/lint').default;\nconst MillionLint = require('@million/lint').default;\nmodule.exports = {\n  plugins: [\n    MillionLint.webpack(),\n  ],\n};"}},{name:"rollup",label:"Rollup",bundler:"rollup",prefix:"MillionLint.rollup",configFilePath:"rollup.config.js",possibleFileNames:["rollup.config.js","rollup.config.mjs","rollup.config.cjs","rollup.config.ts"],millionLint:{configFileContent:"import MillionLint from '@million/lint';\n\nexport default {\n  plugins: [MillionLint.rollup()],\n};"}}],Ut=Bt.map((e=>[e.bundler,e.possibleFileNames])),Gt=`**/{${Ut.map((([,e])=>e.join(","))).join(",")}}`,qt=function(e){jt(e);const t=new Lt;let n=0;const r=()=>{n<e&&t.size>0&&(t.dequeue()(),n++)},i=async(e,t,i)=>{const s=(async()=>e(...i))();t(s);try{await s}catch{}n--,r()},s=(s,...o)=>new Promise((a=>{((s,o,a)=>{new Promise((e=>{t.enqueue(e)})).then(i.bind(void 0,s,o,a)),(async()=>{await Promise.resolve(),n<e&&r()})()})(s,a,o)}));return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value(){t.clear()}},concurrency:{get:()=>e,set(i){jt(i),e=i,queueMicrotask((()=>{for(;n<e&&t.size>0;)r()}))}}}),s}(3);async function Wt(e){const t=await(0,Tt.default)("**/.gitignore",{cwd:e,ignore:["**/node_modules/**"],absolute:!0,onlyFiles:!0,dot:!0}),n={};return await Promise.all(t.map((async e=>{const t=E.dirname(e);try{const r=await w.readFile(e,"utf8"),i=(0,Ot.default)();i.add(r),n[t]=i}catch(e){}}))),n}var zt=[],Vt=async(e,t,n)=>Promise.race(e.map((async e=>{let r=await(0,Tt.default)(n,{cwd:e,ignore:["**/node_modules/**"],onlyFiles:!0,absolute:!0});return r=r.filter((n=>!function(e,t,n){if(!e.startsWith(n))return console.error("THIS BRANCH SHOULDNT RUN OUTSIDE OF RARE CASES"),!1;const r=E.relative(n,e).split(E.sep);for(let e=r.length;e>=0;e--){const i=t[E.join(n,...r.slice(0,e))];if(i){const t=r.slice(e).join("/");if(i.ignores(t))return!0}}return!1}(n,t,e))),r}))),Kt=async e=>zt.length?zt:Promise.all(e.map((e=>qt((async()=>{const[t]=Ut.find((([,t])=>t.includes(e.split("/").pop())))??[void 0],n=await w.stat(e);return{filename:e,framework:t,lastModified:n||-1,from:"typescript"}})))));var Qt=({packageManager:e,packageNames:t,flags:n=[],cwd:r,onErrorsEncounteredOnInstall:s,onInstalled:o})=>i.Effect.gen((function*(){const a=t=>new Nn({fixHint:`This is most likely a problem with your package manager configuration. Try installing again via ${e.name}, then run ${dt("npx million@latest")}.`,message:wt(t,{error:t=>`Failed to execute command using ${e.installCommand}: ${t.message}`,unknown:()=>`Failed to execute command using ${e.installCommand}`})}),l=`${e.installCommand} ${t.map((e=>`${e}@latest`)).join(" ")} ${n.join(" ")}`,{stderr:c}=yield*i.Effect.tryPromise({try:()=>xt(l,{cwd:r}),catch:a});if(!c)return void o?.();"npm"===e.name&&n.push("--legacy-peer-deps"),"yarn"!==e.name&&"pnpm"!==e.name||n.push("--ignore-workspace-root-check");const u=`${e.installCommand} ${t.map((e=>`${e}@latest`)).join(" ")} ${n.join(" ")}`;if(u===l)return void s?.(c);const{stderr:d}=yield*i.Effect.tryPromise({try:()=>xt(u,{cwd:r}),catch:a});if(d){s?.(d);const t="npm"===e.name&&d.includes("npm ERR"),n="yarn"===e.name&&d.includes("error "),r="pnpm"===e.name&&d.includes("ERR_"),o="bun"===e.name&&d.includes("error: "),a=t||n||r||o?"Error":"Warnings";x.log.error(ht(`${a} during installation. ${d}`));(yield*i.Effect.tryPromise({try:()=>x.confirm({message:"Above errors encountered when trying to install @million/lint, do you still want to continue?",initialValue:!0}),catch:e=>new Fn({context:{error:e}})}))||(yield*new Mn({logMessage:"canceled after being unable to install @million/lint",context:{stderr:d}}))}o?.()})),Yt=e=>i.Effect.gen((function*(){const t=yield*i.Effect.tryPromise({try:()=>async function(e){const t=await d.detect({cwd:e});if(!t)return null;const[n]=t.split("@");switch(n){case"yarn":return Mt;case"pnpm":return Ft;case"npm":return Nt;case"bun":return It;default:return null}}(e),catch:e=>new In({message:wt(e,{error:e=>`Unable to read lock file: ${e.message}`,unknown:()=>"Unable to read lock file"})})});return t||(yield*i.Effect.tryPromise({try:()=>x.select({message:"Please select your package manager.",options:Ht.map((e=>({value:e,label:e.label,hint:`Be sure you have ${dt(e.label)} installed.`})))}),catch:e=>new Fn({context:{error:e}})}).pipe(Yn("select-package-manager")))})),Xt=({packageJsonContents:e,packageJsonPath:t,packages:n,cwd:r})=>i.Effect.gen((function*(){const s=yield*i.Effect.tryPromise({try:()=>Wt(r),catch:e=>new In({message:wt(e,{error:e=>`Failed to establish git ignored files: ${e.message}`,unknown:()=>"Failed to establish git ignored files"}),context:{error:e}})}),o=yield*i.Effect.tryPromise({try:()=>Vt([r],s,Gt),catch:e=>new In({message:wt(e,{error:e=>`Error encountered when searching for build configuration files: ${e.message}`,unknown:()=>"Error encountered when searching for build configuration files"})})}).pipe(i.Effect.map(Kt),i.Effect.flatMap((e=>i.Effect.promise((()=>e)))),i.Effect.map((e=>e.map((e=>({...e,filename:E.default.relative(r,e.filename)}))))),i.Effect.map((e=>{return(t=e,t.map((e=>{const t=Bt.find((t=>t.name===e.framework));return t?{buildTool:{...t,configFilePath:e.filename}}:null})).filter((e=>Boolean(e)))).filter((e=>!!e));var t})));if(function(e){if(!e)return!1;if(e.includes("react-scripts start"))return!0;return!1}(e)){if(yield*i.Effect.tryPromise({try:()=>x.confirm({message:"Ordinary create-react-app projects are not supported. Do you want to use craco instead of react-scripts?"}),catch:e=>new Fn({logMessage:"Failure during confirmation prompt",context:{error:e}})}).pipe(Yn("switch-to-craco"))){Xn.INIT_CRACO=!0,yield*Jt(e,n,E.default.dirname(t));const i={...Dt};return i.configFilePath=E.default.relative(r,E.default.join(E.default.dirname(t),"craco.config.js")),{buildTool:i,skipUpdateConfigFile:!0}}yield*new Mn({logMessage:"choose-not-to-install-craco"})}const a=o.at(0);if(!a)return yield*new Nn({message:"No supported build tool found. To learn more about supported build tools, view our documentation at https://million.dev/docs#manual-installation"});if(1===o.length)return x.log.success(`Detected ${bt(dt(o[0].buildTool.label))} project.`),{...a,skipUpdateConfigFile:!1};const l=o.find((e=>E.default.dirname(e.buildTool.configFilePath)===E.default.dirname(t)));if(l)return{...l,skipUpdateConfigFile:!1};const c=yield*i.Effect.tryPromise({try:()=>x.select({message:"Detected multiple build tools. Please select one:",options:o.map((e=>({value:e.buildTool.configFilePath}))),initialValue:o[0].buildTool.configFilePath}),catch:e=>new Fn({logMessage:"Failure at detected multiple build tools select",context:{error:e}})}).pipe(Yn("tool-multi-select")),u=o.find((e=>e.buildTool.configFilePath===c));if(!u)return yield*i.Effect.dieMessage("Invariant: selection must exist as selection was picked from the search array");return E.default.dirname(u.buildTool.configFilePath??"/")!==E.default.dirname(E.default.relative(t,t))&&x.log.warn(`package.json and ${u.buildTool.configFilePath} are in different directories: \n- ${t}\n- ${u.buildTool.configFilePath}`),{...u,skipUpdateConfigFile:!1}}));var Jt=(e,t,n)=>i.Effect.gen((function*(){const r=e.replace("react-scripts start","craco start").replace("react-scripts build","craco build").replace("react-scripts test","craco test"),s=["@craco/craco",...t].map((e=>bt(dt(e)))).join(", "),o=yield*Yt(n);yield*i.Effect.tryPromise({try:()=>A.promises.writeFile(E.default.join(n,"package.json"),r),catch:e=>new In({message:wt(e,{error:e=>`Failed to replace react-scripts in package.json: ${e.message}`,unknown:()=>"Failed to replace react-scripts in package.json"})})}),yield*i.Effect.tryPromise({try:()=>A.promises.writeFile(E.default.join(n,"craco.config.js"),Dt.millionLint.configFileContent),catch:e=>new In({message:wt(e,{error:e=>`Failed to create craco.config.js: ${e.message}`,unknown:()=>"Failed to create craco.config.js"})})}),x.log.info("Created craco.config.js");const a=x.spinner();a.start(`Installing ${s}...`),yield*Qt({packageManager:o,packageNames:["@craco/craco"],cwd:n,flags:["-D"],onErrorsEncounteredOnInstall:e=>{a.stop(ht(e))}}),yield*Qt({packageManager:o,packageNames:t,cwd:n,onErrorsEncounteredOnInstall:e=>{a.stop(ht(e))},onInstalled:()=>{a.stop(`Installed ${s}`)}})})),Zt=e=>i.Effect.gen((function*(){const t=yield*en(e);return{packageJson:yield*i.Effect.try({try:()=>JSON.parse(t),catch:t=>new Nn({message:`Your package.json at ${e} is not valid JSON, aborting.`,context:{error:t}})}),packageJsonContents:t}})),en=e=>i.Effect.gen((function*(){return yield*i.Effect.tryPromise({try:()=>w.default.readFile(E.default.join(e,"package.json"),"utf8"),catch:e=>new Fn({logMessage:"Path should always point to a valid package.json",context:{error:e}})})})),tn=i.Effect.gen((function*(){const e=Xn.CWD,t=yield*i.Effect.tryPromise({try:()=>Wt(e),catch:e=>new In({message:wt(e,{error:e=>`Failed to establish git ignored files: ${e.message}`,unknown:()=>"Failed to establish git ignored files"})})}),n=yield*i.Effect.tryPromise({try:()=>Vt([e],t,"**/package.json"),catch:e=>new In({message:wt(e,{error:e=>`Error encountered when searching for package.json files: ${e.message}`,unknown:()=>"Error encountered when searching for package.json files"})})}),r=n.at(0);r||(yield*new Nn({message:"No package.json found in project"}));const s=yield*i.Effect.gen((function*(){if(!r)return yield*i.Effect.dieMessage("No longer a non escaping function");if(1===n.length)return r;const t=n.toSorted();return yield*i.Effect.tryPromise({try:()=>x.select({message:"Detected multiple package.json files. Select one:",options:t.map((t=>({value:E.default.relative(e,t)}))),initialValue:E.default.relative(e,n[0])}),catch:e=>new Fn({logMessage:"Multiple package.json select failed",context:{error:e}})}).pipe(Yn("detected-multiple-package-json"))})),o=yield*Zt(E.default.dirname(s)),{buildTool:a,skipUpdateConfigFile:l}=yield*Xt({packageJsonContents:o.packageJsonContents,packageJsonPath:s,packages:["@million/lint"],cwd:e});return Xn.BUILD_TOOL=a.name,{...o,packageJsonPath:s,buildTool:a,skipUpdateConfigFile:l}})),nn=e=>i.Effect.gen((function*(){if(Xn.INIT_CRACO)return;const t=E.default.dirname(e),n=yield*((e,t=["@million/lint"])=>i.Effect.gen((function*(){const n=[],r=yield*Zt(e),i=r?.packageJson;for(const e of t)i?.dependencies?.[e]&&n.push(e);return n})))(t,["@million/lint"]);yield*(({packageNames:e,alreadyInstalledPackageNames:t,askBeforeUpdating:n=!0,cwd:r,packageManager:s})=>i.Effect.gen((function*(){const o=e.map((e=>bt(dt(e)))).join(", "),a=t?.map((e=>bt(dt(e)))).join(", ");if(a?.length&&n&&!(yield*i.Effect.tryPromise({try:()=>x.confirm({message:`The ${a} package is already installed. Do you want to update it to the latest version?`}),catch:e=>new Fn({context:{error:e}})}).pipe(Yn("should-update-package"))))return;const l=s||(yield*Yt(r)),c=x.spinner();c.start(`${t?.length?"Updating":"Installing"} ${o} with ${dt(l.label)}.`),yield*Qt({packageManager:l,packageNames:e,cwd:r,onErrorsEncounteredOnInstall:e=>{c.stop(ht(e))},onInstalled:()=>{c.stop(`${t?.length?"Updated":"Installed"} ${o} with ${dt(l.label)}.`)}})})))({packageNames:["@million/lint"],alreadyInstalledPackageNames:n,cwd:t})})),rn=i.Effect.gen((function*(){const e=Xn.CWD;yield*(e=>i.Effect.gen((function*(){const t="# Million Lint\n.million\n",n=E.default.join(e,".gitignore");if(A.default.existsSync(n)){const e=yield*i.Effect.tryPromise({try:()=>w.default.readFile(n,"utf-8"),catch:e=>new In({message:wt(e,{error:e=>`Aborting, could not read ${n}: ${e.message}`,unknown:()=>`Aborting, could not read ${n}`})})});if(e.includes(".million"))return;if(!(yield*i.Effect.tryPromise({try:()=>x.confirm({message:"Add the .million/ directory to your .gitignore?",initialValue:!0}),catch:e=>new Mn({context:{error:e}})}).pipe(Yn("should-update-git-ignore"))))return;const r=`${e}\n${t}`;yield*i.Effect.tryPromise({try:()=>w.default.writeFile(n,r),catch:e=>new In({message:wt(e,{error:e=>`Unable to modify .gitignore: ${e.message}`,unknown:()=>"Unable to modify .gitignore"})})}),St(e,r,n)}else{const e=t;yield*i.Effect.tryPromise({try:()=>w.default.writeFile(n,e),catch:e=>new In({message:wt(e,{error:e=>`Aborting, could not write to ${n}: ${e.message}`,unknown:()=>`Aborting, could not write to ${n}`})})}),St("",e,n)}})))(e)})),sn=new Set(["<",">","{","}","[","]"]),on=new Set(["for","do","while","if","else","return","function","var","let","const","true","false","undefined","this","new","delete","typeof","in","instanceof","void","break","continue","switch","case","default","throw","try","catch","finally","debugger","with","yield","async","await","class","extends","super","import","export","from","static"]),an=new Set(["+","-","*","/","%","=","!","&","|","^","~","!","?",":",".",",",";","'",'"',".","(",")","[","]","#","@","\\",...sn]),[ln,cn,un,dn,pn,fn,hn,gn,mn,yn,_n]=["identifier","keyword","string","class","property","entity","jsxliterals","sign","comment","break","space"].map(((e,t)=>t));function bn(e){return/^[^\S\r\n]+$/g.test(e)}function vn(e){return an.has(e)}function En(e){return/^[\w_]+$/.test(e)||Sn(e)}function Sn(e){return/[^\u0000-\u007f]/.test(e)}function xn(e){return/^[a-zA-Z]$/.test(e)}function wn(e){return xn(e)||Sn(e)}function An(e){return wn(e[0])&&(1===e.length||En(e.slice(1)))}function kn(e){return"`"===e}function Rn(e){return'"'===e||"'"===e}function Pn(e){return"//"===(e=e.slice(0,2))||"/*"===e}function Cn(e){let t="",n=-1,r=[-1,""],i=[-2,""];const s=[];let o=!1,a=0,l=!1,c=0;const u=()=>o&&!l&&!a,d=()=>a&&!u(),p=()=>!a&&u()&&!l&&c>0;let f=null,h=0,g=0;const m=()=>null!==f,y=()=>g>h,_=()=>m()||y();function b(e){const t="\n"===e;if(d()){if(m())return un;const[,t]=r;if(An(e)&&("<"===t||"</"===t))return fn}if(p())return hn;if(m())return un;if(on.has(e))return"."===r[1]?ln:cn;if(t)return yn;if(bn(e))return _n;if(e.split("").every(vn))return gn;if(function(e){const t=e[0];return En(t)&&t===t.toUpperCase()||"null"===e}(e))return d()?ln:dn;if(An(e)){const e="."===r[1]&&An(i[1]);if(!_()&&!e)return ln;if(e)return pn}return un}const v=(e,o)=>{if(o&&(t=o),t){n=e||b(t);const o=[n,t];n!==_n&&n!==yn&&(i=r,r=o),s.push(o)}t=""};for(let n=0;n<e.length;n++){const i=e[n],s=e[n-1],d=e[n+1],m=s+i,b=i+d;if(Rn(i)&&!p()){v(),"\\"!==s&&(f&&i===f?f=null:f||(f=i)),v(un,i);continue}if(!y()&&"\\n"!==s&&kn(i)){v(),v(un,i),g++;continue}if(y()){if("\\n"!==s&&kn(i)&&g>0){v(),g--,v(un,i);continue}if("${"===b){h++,v(un),v(gn,b),n++;continue}}if(g>0&&g===h&&"}"===i){v(),h--,v(gn,i);continue}if(u()&&"{"===i){v(),v(gn,i),l=!0;continue}if(o){if(!a&&"<"===i){v(),"/"===d?(a=2,t=b,n++):(a=1,t=i),v(gn);continue}if(a){if(">"===i&&!"/=".includes(s)){v(),1===a?(a=0,c++):(a=0,o=!1),v(gn,i);continue}if("/>"===b||"</"===b){"<"!==t&&"/"!==t&&v(),"/>"===b?a=0:c--,c||(o=!1),t=b,n++,v(gn);continue}if("<"===i){v(),t=i,v(gn);continue}if("-"===d&&!_()&&!p()&&t){v(pn,t+i+d),n+=1;continue}if("="===d&&!_()){const e=t?t+i:i;An(e)&&(t=e,v(pn));continue}}}!a&&("<"===i&&wn(d)||"</"===b)&&(a="/"===d?2:1,"<"!==i||"/"!==d&&!xn(d)||(o=!0));const x=Rn(S=i)||kn(S),w=y(),A=!o&&("/"===(E=b)[0]&&!Pn(E[0]+E[1])),k=p();if(x||w||Rn(f))t+=i;else if(A){v();const[s,o]=r;if(A&&-1!==s&&(s!==gn||")"===o)&&s!==mn){t=i,v();continue}const a=n++,l=()=>n>=e.length,c=()=>l()||"\n"===e[n];let u=!1;for(;!c();n++)if("/"===e[n]&&"\\"!==e[n-1]){for(u=!0;a!==n&&/^[a-z]$/.test(e[n+1])&&!c();)n++;break}a!==n&&u?(t=e.slice(a,n+1),v(un)):(t=i,v(),n=a)}else if(Pn(b)){v();const r=n;if("/"===d)for(;n<e.length&&"\n"!==e[n];n++);else for(;n<e.length&&e[n-1]+e[n]!=="*/";n++);t=e.slice(r,n+1),v(mn)}else" "===i||"\n"===i?" "!==i||!bn(t)&&t&&!k?(v(),t=i,v()):(t+=i,"<"===d&&v()):l&&"}"===i?(v(),t=i,v(),l=!1):k&&!sn.has(i)||(En(i)===En(t[t.length-1])||u())&&!an.has(i)?t+=i:("</"===m&&(t=m),v(),"</"!==m&&(t=i),"</"===b||"/>"===b?(t=b,v(),n++):sn.has(i)&&v())}var E,S;return v(),s}function On(e,t={showLineNumbers:!1}){const n=Cn(e),r=[];let i=1;const s=[];function o(e){r.push(function(e){const n=t.showLineNumbers?`${pt(`${i}`.padEnd(2," "))} `:"";return i++,`${n}${e}`}(e.map((([e,t])=>{switch(e){case 0:case 4:return _t(t);case 1:case 2:case 7:return Et(t);case 3:return mt(t);case 5:return yt(t);case 6:return vt(t);case 8:return pt(t);default:return t}})).join("")))}for(const e of n){const[t,n]=e;if(9!==t)if(n.includes("\n")){const e=n.split("\n");for(let n=0;n<e.length;n++)s.push([t,e[n]]),n<e.length-1&&(o(s),s.length=0)}else s.push(e);else s.push([t,""]),o(s),s.length=0}return s.length>0&&o(s),r.join("\n")}var Tn=e=>(e.match(/'/g)||[]).length>(e.match(/"/g)||[]).length?"single":"double";async function $n(e,t,n){const{name:r}=t,i=r,s=()=>{const e=[g.builders.objectProperty(g.builders.identifier("enabled"),g.builders.literal(!0))];"next"===i&&n&&e.push(g.builders.objectProperty(g.builders.identifier("rsc"),g.builders.literal(!0)));const t=g.builders.objectExpression(e);return g.builders.callExpression(g.builders.memberExpression(g.builders.identifier("MillionLint"),g.builders.identifier(i),!1),[t])};function o(e){return g.builders.callExpression(s(),[e])}const a={next:"plugins",remix:"plugins",astro:"integrations",webpack:"plugins",vite:"plugins",craco:"plugins",rollup:"plugins",esbuild:"plugins",rspack:"plugins",gatsby:"plugins"},l=()=>a[i],c=C.parse(e,{parser:{parse:e=>f.parse(e,{sourceType:"module",plugins:["jsx","typescript"]})}});let u=!1;const d=new Map;function p(e,t){const n=t.arguments;if(n&&n.length>0){const r=n[0];if(g.namedTypes.ObjectExpression.check(r)){m(r)}else if(g.namedTypes.Identifier.check(r)){const n=r.name,i=d.get(n);i?m(i):h(e,t)}else g.namedTypes.CallExpression.check(r)||g.namedTypes.FunctionExpression.check(r)||g.namedTypes.ArrowFunctionExpression.check(r),h(e,t)}else h(e,t)}function h(e,t){const n=o(t);e.replace(n)}function m(e){const t=l();let n=!1;for(let r=0;r<e.properties.length;r++){const i=e.properties[r];if((g.namedTypes.Property.check(i)||g.namedTypes.ObjectProperty.check(i))&&(g.namedTypes.Identifier.check(i.key)&&i.key.name===t||g.namedTypes.StringLiteral.check(i.key)&&i.key.value===t)){n=!0;const e=i.value;g.namedTypes.ArrayExpression.check(e)?e.elements.unshift(s()):g.namedTypes.Expression.check(e)?i.value=g.builders.arrayExpression([s(),e]):i.value=g.builders.arrayExpression([s()]);break}}n||e.properties.push(g.builders.objectProperty(g.builders.identifier(t),g.builders.arrayExpression([s()])))}g.visit(c,{visitVariableDeclarator(e){const t=e.node;g.namedTypes.Identifier.check(t.id)&&t.init&&g.namedTypes.ObjectExpression.check(t.init)&&d.set(t.id.name,t.init),this.traverse(e)}}),g.visit(c,{visitExportDefaultDeclaration(e){if(u)return!1;const t=e.node,n=t.declaration;if("next"===i){if(g.namedTypes.Expression.check(n))return t.declaration=o(n),u=!0,!1}else{if(g.namedTypes.CallExpression.check(n))return p(e.get("declaration"),n),u=!0,!1;if(g.namedTypes.ObjectExpression.check(n))return m(n),u=!0,!1;if(g.namedTypes.Identifier.check(n)){const e=d.get(n.name);return e?(m(e),u=!0,!1):(t.declaration=o(n),u=!0,!1)}}this.traverse(e)},visitExpressionStatement(e){if(u)return!1;const t=e.node.expression;if(g.namedTypes.AssignmentExpression.check(t)&&g.namedTypes.MemberExpression.check(t.left)&&g.namedTypes.Identifier.check(t.left.object)&&"module"===t.left.object.name&&g.namedTypes.Identifier.check(t.left.property)&&"exports"===t.left.property.name){const n=t.right;if("next"===i){if(g.namedTypes.Expression.check(n))return t.right=o(n),u=!0,!1}else{if(g.namedTypes.CallExpression.check(n)){const t=n.callee;return g.namedTypes.Identifier.check(t)&&"defineConfig"===t.name?(p(e.get("expression").get("right"),n),u=!0,!1):(function(e,t){const n=g.builders.identifier("config"),r=g.builders.variableDeclaration("const",[g.builders.variableDeclarator(n,t)]),i=g.builders.expressionStatement(g.builders.assignmentExpression("=",g.builders.memberExpression(n,g.builders.identifier(l()),!1),g.builders.arrayExpression([s(),g.builders.spreadElement(g.builders.logicalExpression("||",g.builders.memberExpression(n,g.builders.identifier(l()),!1),g.builders.arrayExpression([])))]))),o=g.builders.expressionStatement(g.builders.assignmentExpression("=",g.builders.memberExpression(g.builders.identifier("module"),g.builders.identifier("exports"),!1),n));e.replace(r,i,o)}(e,n),u=!0,!1)}if(g.namedTypes.ObjectExpression.check(n))return m(n),u=!0,!1;if(g.namedTypes.Identifier.check(n)){const e=d.get(n.name);return e?(m(e),u=!0,!1):(t.right=o(n),u=!0,!1)}}}this.traverse(e)}});return C.print(c,{quote:Tn(e)}).code}var Ln=(e,t)=>i.Effect.gen((function*(){const n=E.default.join(t,e.configFilePath);return yield*i.Effect.tryPromise({try:()=>w.default.readFile(n,{encoding:"utf-8"}),catch:e=>new In({message:wt(e,{error:e=>`Could not read file at ${n}: ${e.message}`,unknown:()=>`Could not read file at ${n}`})})})})),jn=e=>i.Effect.gen((function*(){if(e.skipUpdateConfigFile)return;const t=Xn.CWD,n=e.buildTool,r=yield*Ln(n,t);if(r.includes("@million/lint")&&r.includes("MillionLint"))return void x.note(gt(`@million/lint is already configured in ${n.configFilePath}.`));yield*i.Effect.tryPromise({try:()=>x.confirm({message:`Setup Million Lint in your ${E.default.basename(n.configFilePath)}?`,initialValue:!0}),catch:e=>new Fn({logMessage:"At automatic setup confirm prompt",context:{error:e}})}).pipe(Yn("should-modify-build-file"));const s=r,o=E.default.join(t,n.configFilePath),a=x.spinner(),l=function(e){const t=[/module\.exports\s*=/,/exports\./,/require\(.+\)/];for(const n of t)if(n.test(e))return"cjs";const n=[/export\s+default/,/import\s.+\s+from\s+['"]/,/export\s+\{[^}]*\}\s*;/,/export\s+const\s+|export\s+let\s+|export\s+var/];for(const t of n)if(t.test(e))return"esm";return"unknown"}(r);if(Kn({type:"info",event:"wizard-modify-config",properties:{body:{type:l,oldCode:s,filePath:o}}}),"unknown"===l)return yield*new Nn({message:`Unknown module type in ${n.configFilePath}, aborting`});const c=("esm"===l?'import MillionLint from "@million/lint";\n':'const MillionLint = require("@million/lint");\n')+r,u="next"===n.name?yield*(d=E.default.dirname(o),i.Effect.gen((function*(){return A.default.existsSync(E.default.join(d,"pages"))?"pages":A.default.existsSync(E.default.join(d,"app"))?"app":A.default.existsSync(E.default.join(d,"src/pages"))?"pages":A.default.existsSync(E.default.join(d,"src/app"))?"app":yield*i.Effect.tryPromise({try:()=>x.select({message:"Will you use app Router or pages Router?",options:[{label:"App Router",value:"app"},{label:"Pages Router",value:"pages"}]}),catch:e=>new Fn({context:{error:e}})}).pipe(Yn("pages-or-app-router"))}))):void 0;var d;a.start(`Modifying config file ${bt(n.configFilePath)}...`);const p=n.millionLint.configFileContent,f=n.millionLint.configFileContentRSC,h="app"===u?f:p;if("next"===n.name){const e=E.default.join(t,".next");(yield*i.Effect.tryPromise({try:()=>w.default.exists(e),catch:()=>new Fn({logMessage:`Could not read file at ${e}`})}).pipe(i.Effect.catchAll((()=>i.Effect.succeed(!1)))))&&(yield*i.Effect.tryPromise({try:()=>w.default.rmdir(e,{recursive:!0}),catch:()=>new Fn({logMessage:`Could not delete ${e}`})}).pipe(i.Effect.catchAll((()=>i.Effect.succeed(!1)))))}const g=yield*i.Effect.tryPromise({try:()=>$n(c,n,"app"===u),catch:e=>new Fn({userMessage:`Encountered a fatal error attempting to transform ${n.configFilePath}`,context:{error:e}})}).pipe(i.Effect.flatMap((e=>e?i.Effect.succeed(e):new Fn({userMessage:`Encountered a fatal error attempting to transform ${n.configFilePath}`})))),m=E.default.extname(o),y=`${E.default.basename(o,m)}-temp${m}`,_=P.default.tmpdir(),b=E.default.join(_,y);var v,S;yield*i.Effect.tryPromise({try:()=>w.default.writeFile(b,g,{encoding:"utf-8",flag:"w"}),catch:e=>new In({message:wt(e,{error:e=>`Failed to update ${n.configFilePath}: ${e.message}`,unknown:()=>`Failed to update ${n.configFilePath}`})})}),St(s,g,n.configFilePath),Xn.IDE_NAME&&(yield*(v=o,S=b,i.Effect.onError(i.Effect.tryPromise((()=>xt(`${Xn.CLI_COMMAND} --diff ${v} ${S}`))),(e=>(Kn({event:"wizard-open-diff-failed",message:`Failed to open diff in ${Xn.IDE_NAME}`,properties:{body:e.toJSON()}}),i.Effect.succeed(null)))))),a.stop();const k=i.Effect.gen((function*(){yield*i.Effect.tryPromise({try:()=>w.default.unlink(b),catch:e=>new In({message:wt(e,{error:e=>`Could not revert changes to ${n.configFilePath}: ${e.message}`,unknown:()=>`Could not revert changes to ${n.configFilePath}`})})}),x.log.info(`Reverted changes to ${E.default.relative(t,o)}`),Xn.IDE_NAME&&(yield*i.Effect.tryPromise((()=>xt(`${Xn.CLI_COMMAND} ${o}`))).pipe(i.Effect.catchAll((()=>i.Effect.succeed(null))))),yield*new Mn({userMessage:`Reverted the changes.\n\nHere is an installation reference:\n\n${On(h,{showLineNumbers:!0})}`})}));(yield*i.Effect.tryPromise({try:()=>x.confirm({message:"Is the config file setup correctly?",initialValue:!0}),catch:()=>new Fn({logMessage:"Does this config file look good confirmation"})}).pipe(Yn("aborted-config-file-transform",k)))||(yield*k),yield*i.Effect.tryPromise({try:()=>w.default.rename(b,o),catch:e=>new In({message:wt(e,{error:e=>`Failed to update ${o}: ${e.message}`,unknown:()=>`Failed to update ${o}`})})}),Xn.IDE_NAME&&(yield*i.Effect.tryPromise((()=>xt(`${Xn.CLI_COMMAND} ${o}`))).pipe(i.Effect.catchAll((()=>i.Effect.succeed(null)))))})),Mn=class extends(i.Data.TaggedError("CancelFailure")){},Fn=class extends(i.Data.TaggedError("InternalFailure")){},Nn=class extends(i.Data.TaggedError("BadConfigurationFailure")){},In=class extends(i.Data.TaggedError("OSError")){},Hn=class{constructor(e,t,n){this._tag="GroupCancelError",this.capturedError=e,this.results=n,this.telemetryStoreJSON=t}},Dn=(e,t)=>i.Effect.gen((function*(){x.intro(yt(`⚡ ${dt(e)} ${pt(t||"")}`)),Kn({type:"info",event:"wizard-start",properties:{body:{name:e,version:t,store:JSON.stringify(Xn)}}});const n={},r=yield*i.Effect.mapError(Ct,(e=>new Hn(e,JSON.stringify(Xn),n)));n.vscode=r;const s=yield*i.Effect.mapError(tn,(e=>new Hn(e,JSON.stringify(Xn),n)));n.check=s;const o=yield*i.Effect.mapError(nn(s.packageJsonPath),(e=>new Hn(e,JSON.stringify(Xn),n)));if(n.install=o,!s.skipUpdateConfigFile){const e=yield*i.Effect.mapError(jn({buildTool:s.buildTool,skipUpdateConfigFile:s.skipUpdateConfigFile}),(e=>new Hn(e,JSON.stringify(Xn),n)));n["update-config-file"]=e}const a=yield*i.Effect.mapError(rn,(e=>new Hn(e,JSON.stringify(Xn),n)));n.otherResult=a,x.outro(`${gt(dt("✓ "))} You're all set!`)}));var Bn=(e=>{const t=P.default.homedir();switch(process.platform){case"darwin":return E.default.join(t,"Library","Preferences",e);case"win32":return(()=>{const{APPDATA:n=E.default.join(t,"AppData","Roaming")}=process.env;return E.default.join(n,e,"Config")})();default:return(()=>{const{XDG_CONFIG_HOME:n=E.default.join(t,".config")}=process.env;return E.default.join(n,e)})()}})("million-lint"),Un=r.randomUUID(),Gn=async()=>{if(!Un)try{if((await w.default.stat(E.default.join(Bn,"machineId.txt"))).isFile()){const e=await w.default.readFile(E.default.join(Bn,"machineId.txt"),"utf8");Un=e||Un}}catch(e){}return Un},qn=new m.Axiom({token:"xaat-bdc47730-5a10-4b01-b47c-e6b9615dc49e"}),Wn=qn.flush,zn=async(e,...t)=>{qn.ingest("install",{level:e,env:Xn,machineId:await Gn(),message:JSON.stringify(t)}),await Wn()},Vn=`r-${function(e=21){var t;t=e-=0,!b||b.length<t?(b=Buffer.allocUnsafe(t*st),r.webcrypto.getRandomValues(b),v=0):v+t>b.length&&(r.webcrypto.getRandomValues(b),v=0);let n="";for(let r=(v+=t)-e;r<v;r++)n+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&b[r]];return n}(10)}`;function Kn({type:e="error",distinctId:t=Vn,event:n,message:r,properties:i={}}){zn(e,r?{distinctId:t,event:n,message:r,...i}:{distinctId:t,event:n,...i})}var Qn=async()=>{try{await Wn()}catch{process.exit(1)}};function Yn(e,t){return function(n){return i.Effect.gen((function*(){const r=yield*n;return x.isCancel(r)&&(t&&(yield*t),yield*new Mn({logMessage:e})),r}))}}var Xn={NAME:"",CWD:S.default.cwd(),CLI_COMMAND:"code",IDE_NAME:null,IDE_VERSION:null,MILLION_VERSION:null,INSTALL_VERSION:null,PACKAGE_MANAGER:"npm",BUILD_TOOL:null,INIT_CRACO:!1};
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
exports.TelemetryStore=Xn,exports.install=async function(e,t=S.default.env.VERSION){try{Xn.NAME=e||"",Xn.INSTALL_VERSION=t||"",Xn.CWD=E.default.join(S.default.cwd()),await async function(e,t){await i.Effect.runPromiseExit(i.Effect.match(Dn(e,t),{onSuccess:()=>{Kn({type:"info",event:"wizard-complete",properties:{body:!0}}),Qn().then((()=>S.default.exit(0)))},onFailure:e=>{if(!e.capturedError)return;let t="Setup cancelled.";switch(e.capturedError._tag){case"BadConfigurationFailure":t=e.capturedError.message,e.capturedError.fixHint&&(t+="\n",t+=e.capturedError.fixHint),Kn({event:"wizard-bad-configuration",type:"info",properties:{body:{context:e.capturedError.context,results:e.results}}});break;case"CancelFailure":e.capturedError.userMessage&&(t=e.capturedError.userMessage),Kn({event:"wizard-canceled",type:"info",properties:{body:{context:e.capturedError.context,results:e.results}}});break;case"InternalFailure":e.capturedError.userMessage&&(t=e.capturedError.userMessage),Kn({event:"wizard-internal-failure",type:"error",properties:{body:{context:e.capturedError.context,results:e.results}}});break;case"OSError":t=e.capturedError.message,Kn({event:"wizard-os-error",type:"info",properties:{body:{context:e.capturedError.context,results:e.results}}});break;case"TimeoutException":t="Aborting, timed out",Kn({event:"wizard-timeout",type:"error",properties:{body:{capturedError:e.capturedError}}});break;case"UnknownException":t="Aborting, encountered a fatal error",Kn({event:"wizard-unknown-exception",type:"error",properties:{body:{capturedError:e.capturedError}}}),Kn({event:"wizard-timeout",type:"error",properties:{body:{capturedError:e.capturedError}}})}x.cancel(`${t}\n\n${dt(`⚠️ Something went wrong? Call us: ${ft("https://cal.com/aiden/support")}`)}`),Qn().then((()=>S.default.exit(1)))}})).catch((e=>{Kn({type:"error",event:"wizard-defect",properties:{body:e}}),x.log.error("An unexpected error occurred")}))}(e,t??"")}catch(e){Kn({event:"wizard-error",message:e,properties:{body:e}})}};