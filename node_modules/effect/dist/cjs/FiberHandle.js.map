{"version":3,"file":"FiberHandle.js","names":["Cause","_interopRequireWildcard","require","Deferred","Effect","Exit","Fiber","FiberId","_Function","HashSet","Inspectable","Option","_Pipeable","Predicate","Runtime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isFiberHandle","hasProperty","Proto","toString","format","toJSON","_id","state","NodeInspectSymbol","pipe","pipeArguments","arguments","unsafeMake","deferred","self","create","_tag","fiber","undefined","make","acquireRelease","map","handle","zipRight","clear","suspend","done","void","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","internalFiberId","isInternalInterruption","reduceWithContext","emptyCase","constFalse","failCase","dieCase","interruptCase","_","fiberId","ids","sequentialCase","left","right","parallelCase","unsafeSet","dual","args","options","unsafeInterruptAsFork","combine","interruptAs","none","onlyIfMissing","addObserver","exit","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","fiberIdWith","sync","unsafeGet","fromNullable","uninterruptibleMask","restore","withFiberRuntime","id","constInterruptedFiber","runFork","interrupt","run","isEffect","runImpl","effect","tap","forkDaemon","Promise","resolve","reject","isSuccess","value","squash","join","await","awaitEmpty"],"sources":["../../src/FiberHandle.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}