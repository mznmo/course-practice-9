{"version":3,"file":"FiberSet.js","names":["Cause","_interopRequireWildcard","require","Deferred","Effect","Exit","Fiber","FiberId","_Function","HashSet","Inspectable","Iterable","_Pipeable","Predicate","Runtime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isFiberSet","hasProperty","Proto","iterator","state","_tag","empty","backing","toString","format","toJSON","_id","NodeInspectSymbol","pipe","pipeArguments","arguments","unsafeMake","deferred","self","create","make","acquireRelease","map","Set","zipRight","clear","suspend","done","void","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","internalFiberId","isInternalInterruption","reduceWithContext","undefined","emptyCase","constFalse","failCase","dieCase","interruptCase","_","fiberId","ids","sequentialCase","left","right","parallelCase","unsafeAdd","dual","args","fiber","options","unsafeInterruptAsFork","combine","interruptAs","none","add","addObserver","exit","delete","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","fiberIdWith","sync","withFiberRuntime","clearFiber","forEach","id","run","isEffect","effect","runImpl","interrupt","tap","forkDaemon","runFork","Promise","resolve","reject","isSuccess","value","squash","size","join","await","awaitEmpty","whileLoop","while","body","unsafeHead","step","constVoid"],"sources":["../../src/FiberSet.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}