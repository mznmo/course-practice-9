{"version":3,"file":"FiberMap.js","names":["Cause","Deferred","Effect","Exit","Fiber","FiberId","constFalse","constVoid","dual","HashSet","Inspectable","Iterable","MutableHashMap","Option","pipeArguments","Predicate","Runtime","TypeId","Symbol","for","isFiberMap","u","hasProperty","Proto","iterator","state","_tag","empty","backing","toString","format","toJSON","_id","NodeInspectSymbol","pipe","arguments","unsafeMake","deferred","self","Object","create","make","acquireRelease","map","zipRight","clear","suspend","done","void","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","internalFiberId","isInternalInterruption","reduceWithContext","undefined","emptyCase","failCase","dieCase","interruptCase","_","fiberId","has","ids","sequentialCase","left","right","parallelCase","unsafeSet","args","key","fiber","options","unsafeInterruptAsFork","combine","interruptAs","none","previous","get","onlyIfMissing","value","set","addObserver","exit","current","isSome","remove","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","fiberIdWith","sync","unsafeGet","unsafeHas","withFiberRuntime","removeFiber","id","clearFiber","forEach","constInterruptedFiber","runFork","interrupt","run","isEffect","runImpl","effect","tap","forkDaemon","Promise","resolve","reject","isSuccess","squash","size","join","await","awaitEmpty","whileLoop","while","body","unsafeHead","step"],"sources":["../../src/FiberMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}