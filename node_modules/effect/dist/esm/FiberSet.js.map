{"version":3,"file":"FiberSet.js","names":["Cause","Deferred","Effect","Exit","Fiber","FiberId","constFalse","constVoid","dual","HashSet","Inspectable","Iterable","pipeArguments","Predicate","Runtime","TypeId","Symbol","for","isFiberSet","u","hasProperty","Proto","iterator","state","_tag","empty","backing","toString","format","toJSON","_id","NodeInspectSymbol","pipe","arguments","unsafeMake","deferred","self","Object","create","make","acquireRelease","map","Set","set","zipRight","clear","suspend","done","void","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","internalFiberId","isInternalInterruption","reduceWithContext","undefined","emptyCase","failCase","dieCase","interruptCase","_","fiberId","has","ids","sequentialCase","left","right","parallelCase","unsafeAdd","args","fiber","options","unsafeInterruptAsFork","combine","interruptAs","none","add","addObserver","exit","delete","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","fiberIdWith","sync","withFiberRuntime","clearFiber","forEach","id","run","isEffect","effect","runImpl","interrupt","tap","forkDaemon","runFork","Promise","resolve","reject","isSuccess","value","squash","size","join","await","awaitEmpty","whileLoop","while","body","unsafeHead","step"],"sources":["../../src/FiberSet.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}