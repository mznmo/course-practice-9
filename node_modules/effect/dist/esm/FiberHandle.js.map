{"version":3,"file":"FiberHandle.js","names":["Cause","Deferred","Effect","Exit","Fiber","FiberId","constFalse","dual","HashSet","Inspectable","Option","pipeArguments","Predicate","Runtime","TypeId","Symbol","for","isFiberHandle","u","hasProperty","Proto","toString","format","toJSON","_id","state","NodeInspectSymbol","pipe","arguments","unsafeMake","deferred","self","Object","create","_tag","fiber","undefined","make","acquireRelease","map","handle","zipRight","clear","suspend","done","void","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","internalFiberId","isInternalInterruption","reduceWithContext","emptyCase","failCase","dieCase","interruptCase","_","fiberId","has","ids","sequentialCase","left","right","parallelCase","unsafeSet","args","options","unsafeInterruptAsFork","combine","interruptAs","none","onlyIfMissing","addObserver","exit","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","set","fiberIdWith","sync","unsafeGet","fromNullable","get","uninterruptibleMask","restore","withFiberRuntime","id","constInterruptedFiber","runFork","interrupt","run","isEffect","runImpl","effect","tap","forkDaemon","Promise","resolve","reject","isSuccess","value","squash","join","await","awaitEmpty"],"sources":["../../src/FiberHandle.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}